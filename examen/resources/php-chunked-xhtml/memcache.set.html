<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Guarda datos en el servidor</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="memcache.replace.html">« Memcache::replace</a></li>
      <li style="float: right;"><a href="memcache.setcompressthreshold.html">Memcache::setCompressThreshold »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="class.memcache.html">Memcache</a></li>
    <li>Guarda datos en el servidor</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="memcache.set" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">Memcache::set</h1>
  <p class="verinfo">(PECL memcache &gt;= 0.2.0)</p><p class="refpurpose"><span class="refname">Memcache::set</span> &mdash; <span class="dc-title">Guarda datos en el servidor</span></p>

 </div>

 <div class="refsect1 description" id="refsect1-memcache.set-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>Memcache::set</strong></span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type"><a href="language.types.string.html" class="type string">string</a></span> <code class="parameter">$key</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type"><a href="language.types.mixed.html" class="type mixed">mixed</a></span> <code class="parameter">$var</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type"><a href="language.types.integer.html" class="type int">int</a></span> <code class="parameter">$flag</code><span class="initializer"> = ?</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type"><a href="language.types.integer.html" class="type int">int</a></span> <code class="parameter">$expire</code><span class="initializer"> = ?</span></span><br>): <span class="type"><a href="language.types.boolean.html" class="type bool">bool</a></span></div>


  <p class="para rdfs-comment">
   <span class="function"><strong>Memcache::set()</strong></span> guarda un valor 
   <code class="parameter">var</code> con una <code class="parameter">key</code> en el 
   servidor memcached. El parámetro <code class="parameter">expire</code> es el tiempo de
   expiración en segundos. Si es 0, el valor nunca expira (pero el servidor memcached
   no garantiza que este valor será guardado para siempre, puede ser eliminado de la caché
   para hacer espacio para otros valores).
   Se puede usar la constante <strong><code>MEMCACHE_COMPRESSED</code></strong> en el valor del
   <code class="parameter">flag</code> si quiere utilizar compresión al momento (usando zlib).
   <blockquote class="note"><p><strong class="note">Nota</strong>: 
    <p class="para">
     Recuerde que variables de recursos (ej. ficheros y descriptores de conexiones)
     no pueden guardarse en caché, porque no pueden ser representados adecuadamente
     de forma serializada.   
    </p> 
   </p></blockquote>
   También se puede usar la función <span class="function"><strong>memcache_set()</strong></span>.
  </p>

 </div>


 <div class="refsect1 parameters" id="refsect1-memcache.set-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   <dl>
    
     <dt><code class="parameter">key</code></dt>
     <dd>
      <p class="para">
       La clave que quedará asociada con el valor.
      </p>
     </dd>
    
    
     <dt><code class="parameter">var</code></dt>
     <dd>
      <p class="para">
       La variable a guardar. Cadenas y enteros se guardan tal y como son, 
       otros tipos se guardan serializados.
      </p>
     </dd>
    
    
     <dt><code class="parameter">flag</code></dt>
     <dd>
      <p class="para">
       Use <strong><code>MEMCACHE_COMPRESSED</code></strong> para guardar datos
       comprimidos (usa zlib).
      </p>
     </dd>
    
    
     <dt><code class="parameter">expire</code></dt>
     <dd>
      <p class="para">
       Tiempo de expiración del valor. Si es iqual a cero, el valor nunca
       expirará. También puedes usar Unix timestamp o el número de segundos
       empezando desde la fecha actual, el valor no puede exceder de 
       2592000 segundos (30 días).
      </p>
     </dd>
    
   </dl>
  </p>
 </div>

 
 <div class="refsect1 returnvalues" id="refsect1-memcache.set-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve <strong><code><a href="reserved.constants.html#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="reserved.constants.html#constant.false">false</a></code></strong> en caso de error.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-memcache.set-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   <div class="example" id="example-4389">
    <p><strong>Ejemplo #1 Ejemplo de <span class="function"><strong>Memcache::set()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">/* API por procedimientos */<br /><br />/* Conectar al servidor memcached */<br /></span><span style="color: #0000BB">$memcache_obj </span><span style="color: #007700">= </span><span style="color: #0000BB">memcache_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">'memcache_host'</span><span style="color: #007700">, </span><span style="color: #0000BB">11211</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*<br />Establecer el valor según la key 'var_key'<br />usando 0 como valor del flag, no será usada compresión<br />el tiempo de expiración es de 30 segundos<br />*/<br /></span><span style="color: #0000BB">memcache_set</span><span style="color: #007700">(</span><span style="color: #0000BB">$memcache_obj</span><span style="color: #007700">, </span><span style="color: #DD0000">'var_key'</span><span style="color: #007700">, </span><span style="color: #DD0000">'some variable'</span><span style="color: #007700">, </span><span style="color: #0000BB">0</span><span style="color: #007700">, </span><span style="color: #0000BB">30</span><span style="color: #007700">);<br /><br />echo </span><span style="color: #0000BB">memcache_get</span><span style="color: #007700">(</span><span style="color: #0000BB">$memcache_obj</span><span style="color: #007700">, </span><span style="color: #DD0000">'var_key'</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
   <div class="example" id="example-4390">
    <p><strong>Ejemplo #2 Ejemplo de <span class="function"><strong>Memcache::set()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">/* API OO */<br /><br /></span><span style="color: #0000BB">$memcache_obj </span><span style="color: #007700">= new </span><span style="color: #0000BB">Memcache</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">/* connect to memcached server */<br /></span><span style="color: #0000BB">$memcache_obj</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connect</span><span style="color: #007700">(</span><span style="color: #DD0000">'memcache_host'</span><span style="color: #007700">, </span><span style="color: #0000BB">11211</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/*<br />Establece el valor según la llave 'var_key', usando compresión al momento<br />expira en 50 segundos<br />*/<br /></span><span style="color: #0000BB">$memcache_obj</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">set</span><span style="color: #007700">(</span><span style="color: #DD0000">'var_key'</span><span style="color: #007700">, </span><span style="color: #DD0000">'some really big variable'</span><span style="color: #007700">, </span><span style="color: #0000BB">MEMCACHE_COMPRESSED</span><span style="color: #007700">, </span><span style="color: #0000BB">50</span><span style="color: #007700">);<br /><br />echo </span><span style="color: #0000BB">$memcache_obj</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">get</span><span style="color: #007700">(</span><span style="color: #DD0000">'var_key'</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-memcache.set-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   <ul class="simplelist">
    <li><span class="function"><a href="memcache.add.html" class="function" rel="rdfs-seeAlso">Memcache::add()</a> - A&ntilde;adir un valor en el servidor</span></li>
    <li><span class="function"><a href="memcache.replace.html" class="function" rel="rdfs-seeAlso">Memcache::replace()</a> - Reemplaza el valor de un valor existente</span></li>
   </ul>
  </p>
 </div>

</div></div></div></body></html>