<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Duplicar el cierre con un objeto vinculado y &aacute;mbito de clase nuevos</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="closure.bind.html">« Closure::bind</a></li>
      <li style="float: right;"><a href="closure.call.html">Closure::call »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="class.closure.html">Closure</a></li>
    <li>Duplicar el cierre con un objeto vinculado y &aacute;mbito de clase nuevos</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="closure.bindto" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">Closure::bindTo</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.4.0, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">Closure::bindTo</span> &mdash; <span class="dc-title">
   Duplicar el cierre con un objeto vinculado y ámbito de clase nuevos
  </span></p>

 </div>

 <div class="refsect1 description" id="refsect1-closure.bindto-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>Closure::bindTo</strong></span>(<span class="methodparam"><span class="type"><span class="type"><a href="language.types.null.html" class="type null">?</a></span><span class="type"><a href="language.types.object.html" class="type object">object</a></span></span> <code class="parameter">$newThis</code></span>, <span class="methodparam"><span class="type"><span class="type"><a href="language.types.object.html" class="type object">object</a></span>|<span class="type"><a href="language.types.string.html" class="type string">string</a></span>|<span class="type"><a href="language.types.null.html" class="type null">null</a></span></span> <code class="parameter">$newScope</code><span class="initializer"> = &quot;static&quot;</span></span>): <span class="type"><span class="type"><a href="language.types.null.html" class="type null">?</a></span><span class="type"><a href="class.closure.html" class="type Closure">Closure</a></span></span></div>

  <p class="para rdfs-comment">
   Crea y devuelve una nueva <a href="functions.anonymous.html" class="link">función
   anónima</a> con el cuerpo y variables vinculadas como ésta, pero
   posiblemente con un objeto vinculado diferente y un nuevo ámbito de clase.
  </p>

  <p class="para">
   El &quot;objeto vinculado&quot; determina el valor que <code class="literal">$this</code>
   tendrá en el cuerpo de la función, y el &quot;ámbito de clase&quot; representa una clase
   que determina los miembros privados y protegidos a los que será capaz
   de acceder la función anónima. Concretamente, los miembros que serán
   visibles son los mismos que si la función anónima fuese un método de
   la clase dada como valor del parámetro
   <code class="parameter">newScope</code>.
  </p>

  <p class="para">
   Los cierres estáticos no pueden tener ningún objeto vinculado (el valor del parámetro
   <code class="parameter">newThis</code> debería ser <strong><code><a href="reserved.constants.html#constant.null">null</a></code></strong>), pero esta función puede,
   no obstante, usarse para cambiar su ámbito de clase.
  </p>

  <p class="para">
   Esta función se asegurará de que a un cierre no estático que tenga una instancia
   vinculada se le aplique un ámbito y viceversa. En este punto,
   los cierres no estáticos que le son dados un ámbito, excepto una instancia <strong><code><a href="reserved.constants.html#constant.null">null</a></code></strong>, son hechos
   estáticos, y los cierres no estáticos y sin ámbito que le son dados una instancia no
   nula se les aplica un ámbito de clase no especificado.
  </p>

  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   <p class="para">
    Si solamente se quieren duplicar las funciones anónimas, se puede usar
    <a href="language.oop5.cloning.html" class="link">cloning</a> en su lugar.
   </p>
  </p></blockquote>

 </div>


 <div class="refsect1 parameters" id="refsect1-closure.bindto-parameters">
  <h3 class="title">Parámetros</h3>
  <dl>
   
    <dt><code class="parameter">newThis</code></dt>
    <dd>
     <p class="para">
      El objeto al que la función anónima dada debería ser vinculado, o
      <strong><code><a href="reserved.constants.html#constant.null">null</a></code></strong> para que el cierre sea desvinculado.
     </p>
    </dd>
   
   
    <dt><code class="parameter">newScope</code></dt>
    <dd>
     <p class="para">
      El ámbito de la clase a la que se va a asociar el cierre, o
      &#039;static&#039; para mantener el actual. Si se proporciona un objeto, el tipo del
      mismo se usará en su lugar. Esto determina la visibilidad de métodos
      protegidos y privados del objeto vinculado.
      No se permite pasar (un objeto de) una clase interna a este parémtro.
     </p>
    </dd>
   
  </dl>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-closure.bindto-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve el objeto <span class="classname"><a href="class.closure.html" class="classname">Closure</a></span> recién creado,
   o <strong><code><a href="reserved.constants.html#constant.null">null</a></code></strong> en caso de error.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-closure.bindto-examples">
  <h3 class="title">Ejemplos</h3>
  <div class="example" id="example-399">
   <p><strong>Ejemplo #1 Ejemplo de <span class="function"><strong>Closure::bindTo()</strong></span></strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #007700">class </span><span style="color: #0000BB">A </span><span style="color: #007700">{<br />    private </span><span style="color: #0000BB">$val</span><span style="color: #007700">;<br />    function </span><span style="color: #0000BB">__construct</span><span style="color: #007700">(</span><span style="color: #0000BB">$val</span><span style="color: #007700">) {<br />        </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">val </span><span style="color: #007700">= </span><span style="color: #0000BB">$val</span><span style="color: #007700">;<br />    }<br />    function </span><span style="color: #0000BB">getClosure</span><span style="color: #007700">() {<br />        </span><span style="color: #FF8000">//devuelve el cierre vinculado a este objeto y el ámbito<br />        </span><span style="color: #007700">return function() { return </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">val</span><span style="color: #007700">; };<br />    }<br />}<br /><br /></span><span style="color: #0000BB">$ob1 </span><span style="color: #007700">= new </span><span style="color: #0000BB">A</span><span style="color: #007700">(</span><span style="color: #0000BB">1</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$ob2 </span><span style="color: #007700">= new </span><span style="color: #0000BB">A</span><span style="color: #007700">(</span><span style="color: #0000BB">2</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$cl </span><span style="color: #007700">= </span><span style="color: #0000BB">$ob1</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getClosure</span><span style="color: #007700">();<br />echo </span><span style="color: #0000BB">$cl</span><span style="color: #007700">(), </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$cl </span><span style="color: #007700">= </span><span style="color: #0000BB">$cl</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">bindTo</span><span style="color: #007700">(</span><span style="color: #0000BB">$ob2</span><span style="color: #007700">);<br />echo </span><span style="color: #0000BB">$cl</span><span style="color: #007700">(), </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

   <div class="example-contents"><p>El resultado del ejemplo
sería algo similar a:</p></div>
   <div class="example-contents screen">
<div class="examplescode"><pre class="examplescode">1
2</pre>
</div>
   </div>
  </div>
 </div>



 <div class="refsect1 seealso" id="refsect1-closure.bindto-seealso">
  <h3 class="title">Ver también</h3>
  <ul class="simplelist">
   <li><a href="functions.anonymous.html" class="link">Funciones anónimas</a></li>
   <li><span class="methodname"><a href="closure.bind.html" class="methodname" rel="rdfs-seeAlso">Closure::bind()</a> - Duplicar un cierre con un objeto vinculado y &aacute;mbito de clase especificados</span></li>
  </ul>
 </div>


</div></div></div></body></html>