<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Herencia de Objetos</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="language.oop5.visibility.html">« Visibilidad</a></li>
      <li style="float: right;"><a href="language.oop5.paamayim-nekudotayim.html">Operador de Resoluci&oacute;n de &Aacute;mbito (::) »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="language.oop5.html">Clases y objetos</a></li>
    <li>Herencia de Objetos</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="language.oop5.inheritance" class="sect1">
  <h2 class="title">Herencia de Objetos</h2>
  <p class="para">
   La herencia es un principio de programación bien establecido y PHP hace uso
   de él en su modelado de objetos. Este principio afectará la manera
   en que muchas clases y objetos se relacionan unas con otras.
  </p>
  <p class="para">
   Por ejemplo, cuando se extiende una clase, la subclase hereda todos los
   métodos públicos y protegidos de la clase padre. A menos que una clase sobrescriba
   esos métodos, mantendrán su funcionalidad original.
  </p>
  <p class="para">
   Esto es útil para la definición y abstracción de la funcionalidad y permite la
   implementación de funcionalidad adicional en objetos similares sin la
   necesidad de reimplementar toda la funcionalidad compartida.
  </p>
  <p class="para">
   Los métodos privados de una clase padre no son accesibles para una clase hija. Como resultado,
   las clases hijas pueden reimplementar un método privado sin tener en cuenta las reglas de
   herencia normales. Antes de PHP 8.0.0, sin embargo, se aplicaban las restricciones <code class="literal">final</code> y <code class="literal">static</code>
   a los métodos privados. A partir de PHP 8.0.0, la única restricción de métodos privados
   es <code class="literal">private final</code> que se aplica en el constructor de la clase, ya que
   es una forma común de &quot;deshabilitar&quot; el constructor cuando es usado en métodos estáticos de fábrica (Patrón Factory).
  </p>
 <p class="para">
  La <a href="language.oop5.visibility.html" class="link">visibilidad</a>
  de los métodos, propiedades y constantes pueden ser relajarse, por ejemplo,
  un méetodo <code class="literal">protected</code> puede marcase como
  <code class="literal">public</code>, pero no pueden restringirse, por ejemplo.
  marcando una propiedad <code class="literal">public</code> como <code class="literal">private</code>.
 </p>

  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   <p class="para">
    A menos que la carga automática sea utilizada, entonces las clases deben ser definidas antes de ser
    usadas. Si una clase se extiende a otra, entonces la clase padre debe ser declarada
    antes de la estructura de clase hija. Esta regla se aplica a las clases que heredan
    de otras clases e interfaces.
   </p>
  </p></blockquote>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   <p class="para">
    No está permitido sobrescribir una propiedad de lectura-escritura con una <a href="language.oop5.properties.html#language.oop5.properties.readonly-properties" class="link">propiedad de sólo lectura</a> o viceversa.
    <div class="example" id="example-253">
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #007700">class </span><span style="color: #0000BB">A </span><span style="color: #007700">{<br />    public </span><span style="color: #0000BB">int $prop</span><span style="color: #007700">;<br />}<br />class </span><span style="color: #0000BB">B </span><span style="color: #007700">extends </span><span style="color: #0000BB">A </span><span style="color: #007700">{<br />    </span><span style="color: #FF8000">// Ilegal: lectura-escritura -&gt; sólo lectura<br />    </span><span style="color: #007700">public readonly </span><span style="color: #0000BB">int $prop</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
     </div>

    </div>
   </p>
  </p></blockquote>

  <div class="sect2" id="language.oop5.inheritance.examples">
   <div class="example" id="language.oop5.inheritance.examples.ex1">
    <p><strong>Ejemplo #1 Ejemplo de herencia</strong></p>
     <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /><br /></span><span style="color: #007700">class </span><span style="color: #0000BB">Foo<br /></span><span style="color: #007700">{<br />    public function </span><span style="color: #0000BB">printItem</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">)<br />    {<br />        echo </span><span style="color: #DD0000">'Foo: ' </span><span style="color: #007700">. </span><span style="color: #0000BB">$string </span><span style="color: #007700">. </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />    }<br /><br />    public function </span><span style="color: #0000BB">printPHP</span><span style="color: #007700">()<br />    {<br />        echo </span><span style="color: #DD0000">'PHP is great.' </span><span style="color: #007700">. </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />    }<br />}<br /><br />class </span><span style="color: #0000BB">bar </span><span style="color: #007700">extends </span><span style="color: #0000BB">Foo<br /></span><span style="color: #007700">{<br />    public function </span><span style="color: #0000BB">printItem</span><span style="color: #007700">(</span><span style="color: #0000BB">$string</span><span style="color: #007700">)<br />    {<br />        echo </span><span style="color: #DD0000">'Bar: ' </span><span style="color: #007700">. </span><span style="color: #0000BB">$string </span><span style="color: #007700">. </span><span style="color: #0000BB">PHP_EOL</span><span style="color: #007700">;<br />    }<br />}<br /><br /></span><span style="color: #0000BB">$foo </span><span style="color: #007700">= new </span><span style="color: #0000BB">Foo</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$bar </span><span style="color: #007700">= new </span><span style="color: #0000BB">Bar</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$foo</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">printItem</span><span style="color: #007700">(</span><span style="color: #DD0000">'baz'</span><span style="color: #007700">); </span><span style="color: #FF8000">// Salida: 'Foo: baz'<br /></span><span style="color: #0000BB">$foo</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">printPHP</span><span style="color: #007700">();       </span><span style="color: #FF8000">// Salida: 'PHP is great'<br /></span><span style="color: #0000BB">$bar</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">printItem</span><span style="color: #007700">(</span><span style="color: #DD0000">'baz'</span><span style="color: #007700">); </span><span style="color: #FF8000">// Salida: 'Bar: baz'<br /></span><span style="color: #0000BB">$bar</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">printPHP</span><span style="color: #007700">();       </span><span style="color: #FF8000">// Salida: 'PHP is great'<br /><br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  </div>

  <div class="sect2" id="language.oop5.inheritance.internal-classes">
   <h3 class="title">Return Type Compatibility with Internal Classes</h3>

   <p class="para">
    Prior to PHP 8.1, most internal classes or methods didn&#039;t declare their return types,
    and any return type was allowed when extending them.
   </p>

   <p class="para">
    As of PHP 8.1.0, most internal methods started to &quot;tentatively&quot; declare their return type,
    in that case the return type of methods should be compatible with the parent being extended;
    otherwise, a deprecation notice is emitted.
    Note that lack of an explicit return declaration is also considered a signature mismatch,
    and thus results in the deprecation notice.
   </p>

   <p class="para">
    If the return type cannot be declared for an overriding method due to PHP cross-version compatibility concerns,
    a <code class="code">#[ReturnTypeWillChange]</code> attribute can be added to silence the deprecation notice.
   </p>

   <div class="example" id="example-255">
    <p><strong>Ejemplo #2 The overriding method does not declare any return type</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class </span><span style="color: #0000BB">MyDateTime </span><span style="color: #007700">extends </span><span style="color: #0000BB">DateTime<br /></span><span style="color: #007700">{<br />    public function </span><span style="color: #0000BB">modify</span><span style="color: #007700">(</span><span style="color: #0000BB">string $modifier</span><span style="color: #007700">) { return </span><span style="color: #0000BB">false</span><span style="color: #007700">; }<br />}<br /><br /></span><span style="color: #FF8000">// "Deprecated: Return type of MyDateTime::modify(string $modifier) should either be compatible with DateTime::modify(string $modifier): DateTime|false, or the #[\ReturnTypeWillChange] attribute should be used to temporarily suppress the notice" as of PHP 8.1.0<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>

   <div class="example" id="example-256">
    <p><strong>Ejemplo #3 The overriding method declares a wrong return type</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class </span><span style="color: #0000BB">MyDateTime </span><span style="color: #007700">extends </span><span style="color: #0000BB">DateTime<br /></span><span style="color: #007700">{<br />    public function </span><span style="color: #0000BB">modify</span><span style="color: #007700">(</span><span style="color: #0000BB">string $modifier</span><span style="color: #007700">): ?</span><span style="color: #0000BB">DateTime </span><span style="color: #007700">{ return </span><span style="color: #0000BB">null</span><span style="color: #007700">; }<br />}<br /><br /></span><span style="color: #FF8000">// "Deprecated: Return type of MyDateTime::modify(string $modifier): ?DateTime should either be compatible with DateTime::modify(string $modifier): DateTime|false, or the #[\ReturnTypeWillChange] attribute should be used to temporarily suppress the notice" as of PHP 8.1.0<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>

   <div class="example" id="example-257">
    <p><strong>Ejemplo #4 The overriding method declares a wrong return type without a deprecation notice</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">class </span><span style="color: #0000BB">MyDateTime </span><span style="color: #007700">extends </span><span style="color: #0000BB">DateTime<br /></span><span style="color: #007700">{<br />    </span><span style="color: #FF8000">/**<br />     * @return DateTime|false<br />     */<br />    </span><span style="color: #007700">#[</span><span style="color: #0000BB">ReturnTypeWillChange</span><span style="color: #007700">]<br />    public function </span><span style="color: #0000BB">modify</span><span style="color: #007700">(</span><span style="color: #0000BB">string $modifier</span><span style="color: #007700">) { return </span><span style="color: #0000BB">false</span><span style="color: #007700">; }<br />}<br /><br /></span><span style="color: #FF8000">// No notice is triggered<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>

  </div>

 </div></div></div></body></html>