<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Copia y cambia el tama&ntilde;o de parte de una imagen redimension&aacute;ndola</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.imagecopymergegray.html">« imagecopymergegray</a></li>
      <li style="float: right;"><a href="function.imagecopyresized.html">imagecopyresized »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.image.html">Funciones de GD e Im&aacute;genes</a></li>
    <li>Copia y cambia el tama&ntilde;o de parte de una imagen redimension&aacute;ndola</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.imagecopyresampled" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">imagecopyresampled</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.0.6, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">imagecopyresampled</span> &mdash; <span class="dc-title">Copia y cambia el tamaño de parte de una imagen redimensionándola</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.imagecopyresampled-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>imagecopyresampled</strong></span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type"><a href="language.types.resource.html" class="type resource">resource</a></span> <code class="parameter">$dst_image</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type"><a href="language.types.resource.html" class="type resource">resource</a></span> <code class="parameter">$src_image</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type"><a href="language.types.integer.html" class="type int">int</a></span> <code class="parameter">$dst_x</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type"><a href="language.types.integer.html" class="type int">int</a></span> <code class="parameter">$dst_y</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type"><a href="language.types.integer.html" class="type int">int</a></span> <code class="parameter">$src_x</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type"><a href="language.types.integer.html" class="type int">int</a></span> <code class="parameter">$src_y</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type"><a href="language.types.integer.html" class="type int">int</a></span> <code class="parameter">$dst_w</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type"><a href="language.types.integer.html" class="type int">int</a></span> <code class="parameter">$dst_h</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type"><a href="language.types.integer.html" class="type int">int</a></span> <code class="parameter">$src_w</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type"><a href="language.types.integer.html" class="type int">int</a></span> <code class="parameter">$src_h</code></span><br>): <span class="type"><a href="language.types.boolean.html" class="type bool">bool</a></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>imagecopyresampled()</strong></span> copia una porción
   rectangular de una imagen a otra imagen, interpolando de manera suave los valores
   de los píxeles por lo que, particularmete, al reducir el tamaño de una imagen,
   ésta todavía conserva mucha nitidez.
  </p>
  <p class="para">
   En otras palabras, <span class="function"><strong>imagecopyresampled()</strong></span> tomará un
   área rectangular de <code class="parameter">src_image</code> de ancho
   <code class="parameter">src_w</code> y alto <code class="parameter">src_h</code> en la
   posición (<code class="parameter">src_x</code>,<code class="parameter">src_y</code>) 
   y la coloca en un área rectangular de <code class="parameter">dst_image</code> 
   de ancho <code class="parameter">dst_w</code> y alto <code class="parameter">dst_h</code>
   en la posición (<code class="parameter">dst_x</code>,<code class="parameter">dst_y</code>).
  </p>
  <p class="para">
   Si las coordenadas del origen y destino y los anchos y altos
   difieren, se llevará a cabo la ampliación o reducción del fragmento
   de la imagen. Las coodernadas se refiren a la esquina superior
   izquierda. Esta función se puede usar para copiar regiones dentro de la
   misma imagen (si <code class="parameter">dst_image</code> es el mismo que
   <code class="parameter">src_image</code>) pero si las regiones se traslapan el
   resultado será impredecible.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.imagecopyresampled-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   <dl>
    
     <dt><code class="parameter">dst_image</code></dt>
     <dd>
      <p class="para">Recurso de tipo enlace a la imagen de destino.</p>
     </dd>
    
    
     <dt><code class="parameter">src_image</code></dt>
     <dd>
      <p class="para">Recurso de tipo enlace a la imagen original.</p>
     </dd>
    
    
     <dt><code class="parameter">dst_x</code></dt>
     <dd>
      <p class="para">
       Coordenada x del punto de destino.
      </p>
     </dd>
    
    
     <dt><code class="parameter">dst_y</code></dt>
     <dd>
      <p class="para">
       Coordenada y del punto de destino.
      </p>
     </dd>
    
    
     <dt><code class="parameter">src_x</code></dt>
     <dd>
      <p class="para">
       Coordenada x del punto de origen.
      </p>
     </dd>
    
    
     <dt><code class="parameter">src_y</code></dt>
     <dd>
      <p class="para">
       Coordenada y del punto de origen.
      </p>
     </dd>
    
    
     <dt><code class="parameter">dst_w</code></dt>
     <dd>
      <p class="para">
       Ancho del destino.
      </p>
     </dd>
    
    
     <dt><code class="parameter">dst_h</code></dt>
     <dd>
      <p class="para">
       Alto del destino.
      </p>
     </dd>
    
    
     <dt><code class="parameter">src_w</code></dt>
     <dd>
      <p class="para">Ancho original.</p>
     </dd>
    
    
     <dt><code class="parameter">src_h</code></dt>
     <dd>
      <p class="para">Altura original.</p>
     </dd>
    
   </dl>
  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.imagecopyresampled-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve <strong><code><a href="reserved.constants.html#constant.true">true</a></code></strong> en caso de éxito o <strong><code><a href="reserved.constants.html#constant.false">false</a></code></strong> en caso de error.
  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-function.imagecopyresampled-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   <div class="example" id="example-2647">
    <p><strong>Ejemplo #1 Ejemplo sencillo</strong></p>
    <div class="example-contents"><p>
     Este ejemplo redimensionará una imagen a la mitad de su tamaño original.
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">// El archivo<br /></span><span style="color: #0000BB">$nombre_archivo </span><span style="color: #007700">= </span><span style="color: #DD0000">'prueba.jpg'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$porcentaje </span><span style="color: #007700">= </span><span style="color: #0000BB">0.5</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">// Tipo de contenido<br /></span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">'Content-Type: image/jpeg'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Obtener nuevas dimensiones<br /></span><span style="color: #007700">list(</span><span style="color: #0000BB">$ancho</span><span style="color: #007700">, </span><span style="color: #0000BB">$alto</span><span style="color: #007700">) = </span><span style="color: #0000BB">getimagesize</span><span style="color: #007700">(</span><span style="color: #0000BB">$nombre_archivo</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$nuevo_ancho </span><span style="color: #007700">= </span><span style="color: #0000BB">$ancho </span><span style="color: #007700">* </span><span style="color: #0000BB">$porcentaje</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$nuevo_alto </span><span style="color: #007700">= </span><span style="color: #0000BB">$alto </span><span style="color: #007700">* </span><span style="color: #0000BB">$porcentaje</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">// Redimensionar<br /></span><span style="color: #0000BB">$imagen_p </span><span style="color: #007700">= </span><span style="color: #0000BB">imagecreatetruecolor</span><span style="color: #007700">(</span><span style="color: #0000BB">$nuevo_ancho</span><span style="color: #007700">, </span><span style="color: #0000BB">$nuevo_alto</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$imagen </span><span style="color: #007700">= </span><span style="color: #0000BB">imagecreatefromjpeg</span><span style="color: #007700">(</span><span style="color: #0000BB">$nombre_archivo</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">imagecopyresampled</span><span style="color: #007700">(</span><span style="color: #0000BB">$imagen_p</span><span style="color: #007700">, </span><span style="color: #0000BB">$imagen</span><span style="color: #007700">, </span><span style="color: #0000BB">0</span><span style="color: #007700">, </span><span style="color: #0000BB">0</span><span style="color: #007700">, </span><span style="color: #0000BB">0</span><span style="color: #007700">, </span><span style="color: #0000BB">0</span><span style="color: #007700">, </span><span style="color: #0000BB">$nuevo_ancho</span><span style="color: #007700">, </span><span style="color: #0000BB">$nuevo_alto</span><span style="color: #007700">, </span><span style="color: #0000BB">$ancho</span><span style="color: #007700">, </span><span style="color: #0000BB">$alto</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Imprimir<br /></span><span style="color: #0000BB">imagejpeg</span><span style="color: #007700">(</span><span style="color: #0000BB">$imagen_p</span><span style="color: #007700">, </span><span style="color: #0000BB">null</span><span style="color: #007700">, </span><span style="color: #0000BB">100</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

    <div class="example-contents"><p>El resultado del ejemplo
sería algo similar a:</p></div>
    <div class="mediaobject">
     
     <div class="imageobject">
      <img src="images/21009b70229598c6a80eef8b45bf282b-imagecopyresampled.jpg" alt="Salida del ejemplo : Ejemplo sencillo" width="47" height="25" />
     </div>
    </div>
   </div>
  </p>
  <p class="para">
   <div class="example" id="example-2648">
    <p><strong>Ejemplo #2 Redimensionar una imagen proporcionalmente</strong></p>
    <div class="example-contents"><p>
     Este ejemplo mostrará una imagen con el ancho,
     o alto, máximo de 200 píxeles.
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">// El archivo<br /></span><span style="color: #0000BB">$nombre_archivo </span><span style="color: #007700">= </span><span style="color: #DD0000">'prueba.jpg'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">// Establecer un ancho y alto máximo<br /></span><span style="color: #0000BB">$ancho </span><span style="color: #007700">= </span><span style="color: #0000BB">200</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$alto </span><span style="color: #007700">= </span><span style="color: #0000BB">200</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">// Tipo de contenido<br /></span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">'Content-Type: image/jpeg'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Obtener las nuevas dimensiones<br /></span><span style="color: #007700">list(</span><span style="color: #0000BB">$ancho_orig</span><span style="color: #007700">, </span><span style="color: #0000BB">$alto_orig</span><span style="color: #007700">) = </span><span style="color: #0000BB">getimagesize</span><span style="color: #007700">(</span><span style="color: #0000BB">$nombre_archivo</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$ratio_orig </span><span style="color: #007700">= </span><span style="color: #0000BB">$ancho_orig</span><span style="color: #007700">/</span><span style="color: #0000BB">$alto_orig</span><span style="color: #007700">;<br /><br />if (</span><span style="color: #0000BB">$ancho</span><span style="color: #007700">/</span><span style="color: #0000BB">$alto </span><span style="color: #007700">&gt; </span><span style="color: #0000BB">$ratio_orig</span><span style="color: #007700">) {<br />   </span><span style="color: #0000BB">$ancho </span><span style="color: #007700">= </span><span style="color: #0000BB">$alto</span><span style="color: #007700">*</span><span style="color: #0000BB">$ratio_orig</span><span style="color: #007700">;<br />} else {<br />   </span><span style="color: #0000BB">$alto </span><span style="color: #007700">= </span><span style="color: #0000BB">$ancho</span><span style="color: #007700">/</span><span style="color: #0000BB">$ratio_orig</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #FF8000">// Redimensionar<br /></span><span style="color: #0000BB">$image_p </span><span style="color: #007700">= </span><span style="color: #0000BB">imagecreatetruecolor</span><span style="color: #007700">(</span><span style="color: #0000BB">$ancho</span><span style="color: #007700">, </span><span style="color: #0000BB">$alto</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$image </span><span style="color: #007700">= </span><span style="color: #0000BB">imagecreatefromjpeg</span><span style="color: #007700">(</span><span style="color: #0000BB">$nombre_archivo</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">imagecopyresampled</span><span style="color: #007700">(</span><span style="color: #0000BB">$image_p</span><span style="color: #007700">, </span><span style="color: #0000BB">$image</span><span style="color: #007700">, </span><span style="color: #0000BB">0</span><span style="color: #007700">, </span><span style="color: #0000BB">0</span><span style="color: #007700">, </span><span style="color: #0000BB">0</span><span style="color: #007700">, </span><span style="color: #0000BB">0</span><span style="color: #007700">, </span><span style="color: #0000BB">$ancho</span><span style="color: #007700">, </span><span style="color: #0000BB">$alto</span><span style="color: #007700">, </span><span style="color: #0000BB">$ancho_orig</span><span style="color: #007700">, </span><span style="color: #0000BB">$alto_orig</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Imprimir<br /></span><span style="color: #0000BB">imagejpeg</span><span style="color: #007700">(</span><span style="color: #0000BB">$image_p</span><span style="color: #007700">, </span><span style="color: #0000BB">null</span><span style="color: #007700">, </span><span style="color: #0000BB">100</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

    <div class="example-contents"><p>El resultado del ejemplo
sería algo similar a:</p></div>
    <div class="mediaobject">
     
     <div class="imageobject">
      <img src="images/21009b70229598c6a80eef8b45bf282b-imagecopyresampled_2.jpg" alt="Salida del ejemplo : Redimensionar una imagen proporcionalmente" width="200" height="107" />
     </div>
    </div>
   </div>
  </p>
 </div>

 <div class="refsect1 notes" id="refsect1-function.imagecopyresampled-notes">
  <h3 class="title">Notas</h3>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   <p class="para">
    Hay un problema debido a las limitaciones de la imagen de paleta (255+1 colores).
    Redimensionar o filtrar una imagen normalmente necesita más de 255 colores, se usa
    un tipo de aproximación para calcular el nuevo píxel redimensionado y su color.
    Con una imagen de paleta tratamos de asignar un color nuevo, si falló,
    escogemos el color computado más próximo (en teoría). Éste no es
    siempre el color visual más próximo. Puede producir un resultado extraño, como
    imágenes en blaco (o visualmente en blaco). Para saltarse este problema, por favor use una
    imagen de color verdadero como imagen de destino, como una creada por
    <span class="function"><a href="function.imagecreatetruecolor.html" class="function">imagecreatetruecolor()</a></span>.
   </p>
  </p></blockquote>
 </div>

 <div class="refsect1 seealso" id="refsect1-function.imagecopyresampled-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   <span class="function"><a href="function.imagecopyresized.html" class="function" rel="rdfs-seeAlso">imagecopyresized()</a> - Copia y cambia el tama&ntilde;o de parte de una imagen</span>
  </p>
 </div>

</div></div></div></body></html>