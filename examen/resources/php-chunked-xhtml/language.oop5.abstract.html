<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Abstracci&oacute;n de clases</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="language.oop5.static.html">« La palabra reservada 'static'</a></li>
      <li style="float: right;"><a href="language.oop5.interfaces.html">Interfaces de objetos »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="language.oop5.html">Clases y objetos</a></li>
    <li>Abstracci&oacute;n de clases</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="language.oop5.abstract" class="sect1">
 <h2 class="title">Abstracción de clases</h2>
 
 <p class="para">
  PHP 5 introduce clases y métodos abstractos. Las clases definidas como
  abstractas no se pueden instanciar y cualquier clase que
  contiene al menos un método abstracto debe ser definida como tal. Los métodos
  definidos como abstractos simplemente declaran la firma del método, pero no pueden
  definir la implementación.
 </p>
 
 <p class="para">
  Cuando se hereda de una clase abstracta, todos los métodos definidos como abstractos
  en la declaración de la clase madre deben ser definidos en la clase hija; además,
  estos métodos deben ser definidos con la misma (o con una menos restrictiva)
  <a href="language.oop5.visibility.html" class="link">visibilidad</a>. Por ejemplo,
  si el método abstracto está definido como protegido, la implementación de la función
  debe ser definida como protegida o pública, pero nunca como privada. Por otra parte,
  las firmas de los métodos tienen que coincidir, es decir, la declaración de tipos y el número 
  de argumentos requeridos deben ser los mismos. Por ejemplo, si la clase derivada
  define un argumento opcional y la firma del método abstracto no lo
  hace, no habría conflicto con la firma. Esto también se aplica a los constructores
  a partir de PHP 5.4. Antes de PHP 5.4, las firmas del constructor podían ser diferentes.
 </p>
 
 <div class="example" id="example-263">
  <p><strong>Ejemplo #1 Ejemplo de clase abstracta</strong></p>
  <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">abstract class </span><span style="color: #0000BB">ClaseAbstracta<br /></span><span style="color: #007700">{<br />    </span><span style="color: #FF8000">// Forzar la extensión de clase para definir este método<br />    </span><span style="color: #007700">abstract protected function </span><span style="color: #0000BB">getValor</span><span style="color: #007700">();<br />    abstract protected function </span><span style="color: #0000BB">valorPrefijo</span><span style="color: #007700">(</span><span style="color: #0000BB">$prefijo</span><span style="color: #007700">);<br /><br />    </span><span style="color: #FF8000">// Método común<br />    </span><span style="color: #007700">public function </span><span style="color: #0000BB">imprimir</span><span style="color: #007700">() {<br />        print </span><span style="color: #0000BB">$this</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getValor</span><span style="color: #007700">() . </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />    }<br />}<br /><br />class </span><span style="color: #0000BB">ClaseConcreta1 </span><span style="color: #007700">extends </span><span style="color: #0000BB">ClaseAbstracta<br /></span><span style="color: #007700">{<br />    protected function </span><span style="color: #0000BB">getValor</span><span style="color: #007700">() {<br />        return </span><span style="color: #DD0000">"ClaseConcreta1"</span><span style="color: #007700">;<br />    }<br /><br />    public function </span><span style="color: #0000BB">valorPrefijo</span><span style="color: #007700">(</span><span style="color: #0000BB">$prefijo</span><span style="color: #007700">) {<br />        return </span><span style="color: #DD0000">"</span><span style="color: #007700">{</span><span style="color: #0000BB">$prefijo</span><span style="color: #007700">}</span><span style="color: #DD0000">ClaseConcreta1"</span><span style="color: #007700">;<br />    }<br />}<br /><br />class </span><span style="color: #0000BB">ClaseConcreta2 </span><span style="color: #007700">extends </span><span style="color: #0000BB">ClaseAbstracta<br /></span><span style="color: #007700">{<br />    public function </span><span style="color: #0000BB">getValor</span><span style="color: #007700">() {<br />        return </span><span style="color: #DD0000">"ClaseConcreta2"</span><span style="color: #007700">;<br />    }<br /><br />    public function </span><span style="color: #0000BB">valorPrefijo</span><span style="color: #007700">(</span><span style="color: #0000BB">$prefijo</span><span style="color: #007700">) {<br />        return </span><span style="color: #DD0000">"</span><span style="color: #007700">{</span><span style="color: #0000BB">$prefijo</span><span style="color: #007700">}</span><span style="color: #DD0000">ClaseConcreta2"</span><span style="color: #007700">;<br />    }<br />}<br /><br /></span><span style="color: #0000BB">$clase1 </span><span style="color: #007700">= new </span><span style="color: #0000BB">ClaseConcreta1</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$clase1</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">imprimir</span><span style="color: #007700">();<br />echo </span><span style="color: #0000BB">$clase1</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">valorPrefijo</span><span style="color: #007700">(</span><span style="color: #DD0000">'FOO_'</span><span style="color: #007700">) .</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$clase2 </span><span style="color: #007700">= new </span><span style="color: #0000BB">ClaseConcreta2</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$clase2</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">imprimir</span><span style="color: #007700">();<br />echo </span><span style="color: #0000BB">$clase2</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">valorPrefijo</span><span style="color: #007700">(</span><span style="color: #DD0000">'FOO_'</span><span style="color: #007700">) .</span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
  </div>

  <div class="example-contents"><p>El resultado del ejemplo sería:</p></div>
  <div class="example-contents screen">
<div class="cdata"><pre>
ClaseConcreta1
FOO_ClaseConcreta1
ClaseConcreta2
FOO_ClaseConcreta2
</pre></div>
  </div>
 </div>
 
 <div class="example" id="example-264">
  <p><strong>Ejemplo #2 Ejemplo de clase abstracta</strong></p>
  <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">abstract class </span><span style="color: #0000BB">ClaseAbstracta<br /></span><span style="color: #007700">{<br />    </span><span style="color: #FF8000">// El método abstracto sólo necesita definir los argumentos requeridos<br />    </span><span style="color: #007700">abstract protected function </span><span style="color: #0000BB">nombrePrefijo</span><span style="color: #007700">(</span><span style="color: #0000BB">$nombre</span><span style="color: #007700">);<br /><br />}<br /><br />class </span><span style="color: #0000BB">ClaseConcreta </span><span style="color: #007700">extends </span><span style="color: #0000BB">ClaseAbstracta<br /></span><span style="color: #007700">{<br /><br />    </span><span style="color: #FF8000">// La clase derivada puede definir parámetros opcionales que no estén en la estructura del prototipo<br />    </span><span style="color: #007700">public function </span><span style="color: #0000BB">nombrePrefijo</span><span style="color: #007700">(</span><span style="color: #0000BB">$nombre</span><span style="color: #007700">, </span><span style="color: #0000BB">$separador </span><span style="color: #007700">= </span><span style="color: #DD0000">"."</span><span style="color: #007700">) {<br />        if (</span><span style="color: #0000BB">$nombre </span><span style="color: #007700">== </span><span style="color: #DD0000">"Pacman"</span><span style="color: #007700">) {<br />            </span><span style="color: #0000BB">$prefijo </span><span style="color: #007700">= </span><span style="color: #DD0000">"Mr"</span><span style="color: #007700">;<br />        } elseif (</span><span style="color: #0000BB">$nombre </span><span style="color: #007700">== </span><span style="color: #DD0000">"Pacwoman"</span><span style="color: #007700">) {<br />            </span><span style="color: #0000BB">$prefijo </span><span style="color: #007700">= </span><span style="color: #DD0000">"Mrs"</span><span style="color: #007700">;<br />        } else {<br />            </span><span style="color: #0000BB">$prefijo </span><span style="color: #007700">= </span><span style="color: #DD0000">""</span><span style="color: #007700">;<br />        }<br />        return </span><span style="color: #DD0000">"</span><span style="color: #007700">{</span><span style="color: #0000BB">$prefijo</span><span style="color: #007700">}{</span><span style="color: #0000BB">$separador</span><span style="color: #007700">}</span><span style="color: #DD0000"> </span><span style="color: #007700">{</span><span style="color: #0000BB">$nombre</span><span style="color: #007700">}</span><span style="color: #DD0000">"</span><span style="color: #007700">;<br />    }<br />}<br /><br /></span><span style="color: #0000BB">$clase </span><span style="color: #007700">= new </span><span style="color: #0000BB">ClaseConcreta</span><span style="color: #007700">;<br />echo </span><span style="color: #0000BB">$clase</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">nombrePrefijo</span><span style="color: #007700">(</span><span style="color: #DD0000">"Pacman"</span><span style="color: #007700">), </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />echo </span><span style="color: #0000BB">$clase</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">nombrePrefijo</span><span style="color: #007700">(</span><span style="color: #DD0000">"Pacwoman"</span><span style="color: #007700">), </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

   <div class="example-contents"><p>El resultado del ejemplo sería:</p></div>
   <div class="example-contents screen">
<div class="cdata"><pre>
Mr. Pacman
Mrs. Pacwoman
</pre></div>
   </div>
  </div>
  
  <p class="para">
   El código antiguo que no tenga clases o funciones definidas por el usuario
   llamadas &#039;abstract&#039; deberían ejecutarse sin modificaciones.
  </p>
</div></div></div></body></html>