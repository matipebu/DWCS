<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Devuelve el &uacute;ltimo error sobre un socket</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.socket-import-stream.html">« socket_import_stream</a></li>
      <li style="float: right;"><a href="function.socket-listen.html">socket_listen »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.sockets.html">Funciones de Socket</a></li>
    <li>Devuelve el &uacute;ltimo error sobre un socket</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.socket-last-error" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">socket_last_error</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.1.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">socket_last_error</span> &mdash; <span class="dc-title">Devuelve el último error sobre un socket</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.socket-last-error-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>socket_last_error</strong></span>(<span class="methodparam"><span class="type"><a href="language.types.resource.html" class="type resource">resource</a></span> <code class="parameter">$socket</code><span class="initializer"> = ?</span></span>): <span class="type"><a href="language.types.integer.html" class="type int">int</a></span></div>

  <p class="para rdfs-comment">
   Si un recurso socket es pasado a esta función, devuelve el último error que
   ocurrió en este socket en particular. Si el recurso socket se
   omite, devuelve el código de error de la última función de socket que falló.
   El segundo es particularmente útil para funciones como
   <span class="function"><a href="function.socket-create.html" class="function">socket_create()</a></span> que no devuelve un socket en caso
   de error y <span class="function"><a href="function.socket-select.html" class="function">socket_select()</a></span> que puede fallar por razones
   no directamente vinculadas con un socket en particular. El código de error es apropiado para
   ser introducido en <span class="function"><a href="function.socket-strerror.html" class="function">socket_strerror()</a></span>, que devuelve una cadena
   describiendo el código de error dado.
  </p>
   <p class="para">
   Si no se hubiera producido ningún error, o el error se hubiera eliminado con
   <span class="function"><a href="function.socket-clear-error.html" class="function">socket_clear_error()</a></span>, la función devuelve <code class="literal">0</code>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.socket-last-error-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   <dl>
    
     <dt><code class="parameter">socket</code></dt>
     <dd>
      <p class="para">
       Un recurso socket válido creado con <span class="function"><a href="function.socket-create.html" class="function">socket_create()</a></span>.
      </p>
     </dd>
    
   </dl>
  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.socket-last-error-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Esta función devuelve un código de error de un socket.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.socket-last-error-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   <div class="example" id="example-4519">
    <p><strong>Ejemplo #1 Un ejemplo de <span class="function"><strong>socket_last_error()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br />$socket </span><span style="color: #007700">= @</span><span style="color: #0000BB">socket_create</span><span style="color: #007700">(</span><span style="color: #0000BB">AF_INET</span><span style="color: #007700">, </span><span style="color: #0000BB">SOCK_STREAM</span><span style="color: #007700">, </span><span style="color: #0000BB">SOL_TCP</span><span style="color: #007700">);<br /><br />if (</span><span style="color: #0000BB">$socket </span><span style="color: #007700">=== </span><span style="color: #0000BB">false</span><span style="color: #007700">) {<br />    </span><span style="color: #0000BB">$errorcode </span><span style="color: #007700">= </span><span style="color: #0000BB">socket_last_error</span><span style="color: #007700">();<br />    </span><span style="color: #0000BB">$errormsg </span><span style="color: #007700">= </span><span style="color: #0000BB">socket_strerror</span><span style="color: #007700">(</span><span style="color: #0000BB">$errorcode</span><span style="color: #007700">);<br />    <br />    die(</span><span style="color: #DD0000">"No se pudo crear el socket: [</span><span style="color: #0000BB">$errorcode</span><span style="color: #DD0000">] </span><span style="color: #0000BB">$errormsg</span><span style="color: #DD0000">"</span><span style="color: #007700">);<br />}<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.socket-last-error-notes">
  <h3 class="title">Notas</h3>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   <p class="para">
    <span class="function"><strong>socket_last_error()</strong></span> no limpia el código de error, use
    <span class="function"><a href="function.socket-clear-error.html" class="function">socket_clear_error()</a></span> para este propósito.
   </p>
  </p></blockquote>
 </div>


</div></div></div></body></html>