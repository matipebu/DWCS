<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Copiar un fichero interno de un archivo phar a otro fichero nuevo dentro del phar</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="phardata.converttoexecutable.html">« PharData::convertToExecutable</a></li>
      <li style="float: right;"><a href="phardata.decompress.html">PharData::decompress »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="class.phardata.html">PharData</a></li>
    <li>Copiar un fichero interno de un archivo phar a otro fichero nuevo dentro del phar</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="phardata.copy" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">PharData::copy</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.3.0, PHP 7, PHP 8, PECL phar &gt;= 2.0.0)</p><p class="refpurpose"><span class="refname">PharData::copy</span> &mdash; <span class="dc-title">Copiar un fichero interno de un archivo phar a otro fichero nuevo dentro del phar</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-phardata.copy-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>PharData::copy</strong></span>(<span class="methodparam"><span class="type"><a href="language.types.string.html" class="type string">string</a></span> <code class="parameter">$oldfile</code></span>, <span class="methodparam"><span class="type"><a href="language.types.string.html" class="type string">string</a></span> <code class="parameter">$newfile</code></span>): <span class="type"><a href="language.types.boolean.html" class="type bool">bool</a></span></div>

  
  <p class="para rdfs-comment">
   Copia un fichero interno de un archivo tar/zip a otro fichero nuevo dentro del mismo archivo.
   Esta es una alternativa orientada a objetos para usar <span class="function"><a href="function.copy.html" class="function">copy()</a></span> con
   la envoltura de flujos phar.
  </p>
 </div>

 
 <div class="refsect1 parameters" id="refsect1-phardata.copy-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   <dl>
    
     <dt><code class="parameter">oldfile</code></dt>
     <dd>
      <p class="para">
      </p>
     </dd>
    
    
     <dt><code class="parameter">newfile</code></dt>
     <dd>
      <p class="para">
      </p>
     </dd>
    
   </dl>
  </p>
  
 </div>

 <div class="refsect1 returnvalues" id="refsect1-phardata.copy-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve <strong><code><a href="reserved.constants.html#constant.true">true</a></code></strong> en caso de éxito, pero es más seguro encerrar la llamada al método en un
   bloque try/catch y asumir el éxito si no se lanza ninguna excepción.
  </p>
 </div>

 
 <div class="refsect1 errors" id="refsect1-phardata.copy-errors">
  <h3 class="title">Errores/Excepciones</h3>
  <p class="para">
   Lanza una excepción de tipo <span class="classname"><a href="class.unexpectedvalueexception.html" class="classname">UnexpectedValueException</a></span> si el fichero origen no
   exite, el fichero destino ya existe, el acceso a escritura está deshabilitado, la apertura de cualquiera de los
   dos ficheros falla, la lectura del fichero fuente falla, o una excepción de tipo <span class="classname"><a href="class.pharexception.html" class="classname">PharException</a></span>
   si la escritura de los cambios del phar falla.
  </p>
 </div>

 
 <div class="refsect1 examples" id="refsect1-phardata.copy-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   <div class="example" id="example-770">
    <p><strong>Ejemplo #1 Un ejemplo de <span class="function"><a href="phar.copy.html" class="function">Phar::copy()</a></span></strong></p>
    <div class="example-contents"><p>
     Este ejemplo muestra el uso de <span class="function"><strong>PharData::copy()</strong></span> y su
     equivalente con envoltura de flujos. La principal
     diferencia entre los dos enfoques es el manejo de errores. Todos los métodos de PharData
     lanzan excepciones, mientras que la envoltura de flujos utiliza <span class="function"><a href="function.trigger-error.html" class="function">trigger_error()</a></span>.
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">try {<br />    </span><span style="color: #0000BB">$phar </span><span style="color: #007700">= new </span><span style="color: #0000BB">PharData</span><span style="color: #007700">(</span><span style="color: #DD0000">'miphar.tar'</span><span style="color: #007700">);<br />    </span><span style="color: #0000BB">$phar</span><span style="color: #007700">[</span><span style="color: #DD0000">'a'</span><span style="color: #007700">] = </span><span style="color: #DD0000">'hola'</span><span style="color: #007700">;<br />    </span><span style="color: #0000BB">$phar</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">copy</span><span style="color: #007700">(</span><span style="color: #DD0000">'a'</span><span style="color: #007700">, </span><span style="color: #DD0000">'b'</span><span style="color: #007700">);<br />    echo </span><span style="color: #0000BB">$phar</span><span style="color: #007700">[</span><span style="color: #DD0000">'b'</span><span style="color: #007700">]; </span><span style="color: #FF8000">// imprime "phar://miphar.tar/b"<br /></span><span style="color: #007700">} catch (</span><span style="color: #0000BB">Exception $e</span><span style="color: #007700">) {<br />    </span><span style="color: #FF8000">// manejar errores<br /></span><span style="color: #007700">}<br /><br /></span><span style="color: #FF8000">// el equivalente con envoltura de flujos del código de arriba.<br />// Se dispara E_WARNINGS en caso de error en vez de excepciones.<br /></span><span style="color: #0000BB">copy</span><span style="color: #007700">(</span><span style="color: #DD0000">'phar://miphar.tar/a'</span><span style="color: #007700">, </span><span style="color: #DD0000">'phar//miphar.tar/c'</span><span style="color: #007700">);<br />echo </span><span style="color: #0000BB">file_get_contents</span><span style="color: #007700">(</span><span style="color: #DD0000">'phar://miphar.tar/c'</span><span style="color: #007700">); </span><span style="color: #FF8000">// imprime "hola"<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  </p>
 </div>

 
</div></div></div></body></html>