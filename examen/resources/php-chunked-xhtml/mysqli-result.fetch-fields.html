<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Devuelve un array de objetos que representan los campos de un conjunto de resultados</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="mysqli-result.fetch-field-direct.html">« mysqli_result::fetch_field_direct</a></li>
      <li style="float: right;"><a href="mysqli-result.fetch-object.html">mysqli_result::fetch_object »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="class.mysqli-result.html">mysqli_result</a></li>
    <li>Devuelve un array de objetos que representan los campos de un conjunto de resultados</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="mysqli-result.fetch-fields" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">mysqli_result::fetch_fields</h1>
  <h1 class="refname">mysqli_fetch_fields</h1>
  <p class="verinfo">(PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">mysqli_result::fetch_fields</span> -- <span class="refname">mysqli_fetch_fields</span> &mdash; <span class="dc-title">Devuelve un array de objetos que representan los campos de un conjunto de resultados</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-mysqli-result.fetch-fields-description">
  <h3 class="title">Descripción</h3>
  <p class="para">Estilo orientado a objetos</p>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>mysqli_result::fetch_fields</strong></span>(): <span class="type"><a href="language.types.array.html" class="type array">array</a></span></div>

  <p class="para rdfs-comment">Estilo por procedimientos</p>
  <div class="methodsynopsis dc-description"><span class="methodname"><strong>mysqli_fetch_fields</strong></span>(<span class="methodparam"><span class="type"><a href="class.mysqli-result.html" class="type mysqli_result">mysqli_result</a></span> <code class="parameter">$result</code></span>): <span class="type"><a href="language.types.array.html" class="type array">array</a></span></div>

  
  <p class="para rdfs-comment">
   Esta función sirve de propósito idéntico a la
   función <span class="function"><a href="mysqli-result.fetch-field.html" class="function">mysqli_fetch_field()</a></span> con la única
   diferencia de que, en lugar de devolver un objeto por cada campo,
   las columnas son devueltas en un array de objetos.
  </p>
 </div>

 
 <div class="refsect1 parameters" id="refsect1-mysqli-result.fetch-fields-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   <dl>
    <dt><code class="parameter">
result</code></dt><dd><p class="para">Sólo estilo por procedimientos: Un conjunto de identificadores
de resultados devuelto por <span class="function"><a href="mysqli.query.html" class="function">mysqli_query()</a></span>, <span class="function"><a href="mysqli.store-result.html" class="function">mysqli_store_result()</a></span>
o <span class="function"><a href="mysqli.use-result.html" class="function">mysqli_use_result()</a></span>.</p></dd>
   </dl>
  </p>
 </div>

 
 <div class="refsect1 returnvalues" id="refsect1-mysqli-result.fetch-fields-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve un array de objetos que contiene la información de definición de los campos o
   <strong><code><a href="reserved.constants.html#constant.false">false</a></code></strong> si no hay información de campo disponible.
  </p>
  <p class="para">
   <table class="doctable table">
    <caption><strong>Propiedades del objeto</strong></caption>
    
     <thead>
      <tr>
       <th>Propiedad</th>
       <th>Descripción</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>name</td>
       <td>El nombre de la columna</td>
      </tr>

      <tr>
       <td>orgname</td>
       <td>El nombre original de la columna si se especificó un alias</td>
      </tr>

      <tr>
       <td>table</td>
       <td>El nombre de la tabla al que pertenece el campo (si no es calculado)</td>
      </tr>

      <tr>
       <td>orgtable</td>
       <td>El nombre original de la tabla si se especificó un alias</td>
      </tr>

      <tr>
       <td>max_length</td>
       <td>El ancho máximo del campo del conjunto de resultados.</td>
      </tr>

      <tr>
       <td>length</td>
       <td>
        El ancho del campo, en bytes, como se especificó en la definición de la tabla. Observe que
        este número (bytes) podría diferir del valor de la definición de la tabla (caracteres), dependiendo
        del conjunto de caracteres que se emplee. Por ejemplo, el conjunto de caracteres utf8 tiene 3 bytes por carácter, 
        por lo que varchar(10) devolverá una longitud de 30 para utf8 (10*3), aunque devuelve 10 para latin1 (10*1).
       </td>
      </tr>

      <tr>
       <td>charsetnr</td>
       <td>El número del conjunto de caracteres (id) del campo.</td>
      </tr>

      <tr>
       <td>flags</td>
       <td>Un entero que representa las banderas de bits del campo.</td>
      </tr>

      <tr>
       <td>type</td>
       <td>El tipo de datos usado por el campo</td>
      </tr>

      <tr>
       <td>decimals</td>
       <td>El número de decimales usado (para campos integer)</td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>

 
 <div class="refsect1 examples" id="refsect1-mysqli-result.fetch-fields-examples">
  <h3 class="title">Ejemplos</h3>
  <div class="example" id="example-1520">
   <p><strong>Ejemplo #1 Estilo orientado a objetos</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br />$mysqli </span><span style="color: #007700">= new </span><span style="color: #0000BB">mysqli</span><span style="color: #007700">(</span><span style="color: #DD0000">"127.0.0.1"</span><span style="color: #007700">, </span><span style="color: #DD0000">"root"</span><span style="color: #007700">, </span><span style="color: #DD0000">"foofoo"</span><span style="color: #007700">, </span><span style="color: #DD0000">"sakila"</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/* comprobar la conexión */<br /></span><span style="color: #007700">if (</span><span style="color: #0000BB">mysqli_connect_errno</span><span style="color: #007700">()) {<br />    </span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"Falló la conexión: %s\n"</span><span style="color: #007700">, </span><span style="color: #0000BB">$mysqli</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">connect_error</span><span style="color: #007700">);<br />    exit();<br />}<br /><br />foreach (array(</span><span style="color: #DD0000">'latin1'</span><span style="color: #007700">, </span><span style="color: #DD0000">'utf8'</span><span style="color: #007700">) as </span><span style="color: #0000BB">$conj_caract</span><span style="color: #007700">) {<br /><br />    </span><span style="color: #FF8000">// Establecer el conjunto de caracteres para mostrar su impacto en algunos valores (p.ej., longitud en bytes)<br />    </span><span style="color: #0000BB">$mysqli</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">set_charset</span><span style="color: #007700">(</span><span style="color: #0000BB">$conj_caract</span><span style="color: #007700">);<br /><br />    </span><span style="color: #0000BB">$consulta </span><span style="color: #007700">= </span><span style="color: #DD0000">"SELECT actor_id, last_name from actor ORDER BY actor_id"</span><span style="color: #007700">;<br /><br />    echo </span><span style="color: #DD0000">"======================\n"</span><span style="color: #007700">;<br />    echo </span><span style="color: #DD0000">"Conjunto de caracteres: </span><span style="color: #0000BB">$conj_caract</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br />    echo </span><span style="color: #DD0000">"======================\n"</span><span style="color: #007700">;<br />    <br />    if (</span><span style="color: #0000BB">$resultado </span><span style="color: #007700">= </span><span style="color: #0000BB">$mysqli</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">query</span><span style="color: #007700">(</span><span style="color: #0000BB">$consulta</span><span style="color: #007700">)) {<br /><br />        </span><span style="color: #FF8000">/* Obtener la información del campo para todas las columnas */<br />        </span><span style="color: #0000BB">$info_campo </span><span style="color: #007700">= </span><span style="color: #0000BB">$resultado</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">fetch_fields</span><span style="color: #007700">();<br /><br />        foreach (</span><span style="color: #0000BB">$info_campo </span><span style="color: #007700">as </span><span style="color: #0000BB">$valor</span><span style="color: #007700">) {<br />            </span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"Nombre:           %s\n"</span><span style="color: #007700">,   </span><span style="color: #0000BB">$valor</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">name</span><span style="color: #007700">);<br />            </span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"Tabla:            %s\n"</span><span style="color: #007700">,   </span><span style="color: #0000BB">$valor</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">table</span><span style="color: #007700">);<br />            </span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"Longitud máx.:    %d\n"</span><span style="color: #007700">,   </span><span style="color: #0000BB">$valor</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">max_length</span><span style="color: #007700">);<br />            </span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"Longitud:         %d\n"</span><span style="color: #007700">,   </span><span style="color: #0000BB">$valor</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">length</span><span style="color: #007700">);<br />            </span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"Nº conj. caract.: %d\n"</span><span style="color: #007700">,   </span><span style="color: #0000BB">$valor</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">charsetnr</span><span style="color: #007700">);<br />            </span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"Banderas:         %d\n"</span><span style="color: #007700">,   </span><span style="color: #0000BB">$valor</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">flags</span><span style="color: #007700">);<br />            </span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"Tipo:             %d\n\n"</span><span style="color: #007700">, </span><span style="color: #0000BB">$valor</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">type</span><span style="color: #007700">);<br />        }<br />        </span><span style="color: #0000BB">$resultado</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">free</span><span style="color: #007700">();<br />    }<br />}<br /></span><span style="color: #0000BB">$mysqli</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">close</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

  </div>
  <div class="example" id="example-1521">
   <p><strong>Ejemplo #2 Estilo por procedimientos</strong></p>
   <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br />$enlace </span><span style="color: #007700">= </span><span style="color: #0000BB">mysqli_connect</span><span style="color: #007700">(</span><span style="color: #DD0000">"127.0.0.1"</span><span style="color: #007700">, </span><span style="color: #DD0000">"mi_usuario"</span><span style="color: #007700">, </span><span style="color: #DD0000">"mi_contraseña"</span><span style="color: #007700">, </span><span style="color: #DD0000">"sakila"</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">/* comprobar la conexión */<br /></span><span style="color: #007700">if (</span><span style="color: #0000BB">mysqli_connect_errno</span><span style="color: #007700">()) {<br />    </span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"Falló la conexión: %s\n"</span><span style="color: #007700">, </span><span style="color: #0000BB">mysqli_connect_error</span><span style="color: #007700">());<br />    exit();<br />}<br /><br />foreach (array(</span><span style="color: #DD0000">'latin1'</span><span style="color: #007700">, </span><span style="color: #DD0000">'utf8'</span><span style="color: #007700">) as </span><span style="color: #0000BB">$conj_caract</span><span style="color: #007700">) {<br /><br />    </span><span style="color: #FF8000">// Establecer el conjunto de caracteres para mostrar su impacto en algunos valores (p.ej., longitud en bytes)<br />    </span><span style="color: #0000BB">mysqli_set_charset</span><span style="color: #007700">(</span><span style="color: #0000BB">$enlace</span><span style="color: #007700">, </span><span style="color: #0000BB">$conj_caract</span><span style="color: #007700">);<br /><br />    </span><span style="color: #0000BB">$consulta </span><span style="color: #007700">= </span><span style="color: #DD0000">"SELECT actor_id, last_name from actor ORDER BY actor_id"</span><span style="color: #007700">;<br /><br />    echo </span><span style="color: #DD0000">"===============================\n"</span><span style="color: #007700">;<br />    echo </span><span style="color: #DD0000">"Conjunto de caracteres: </span><span style="color: #0000BB">$conj_caract</span><span style="color: #DD0000">\n"</span><span style="color: #007700">;<br />    echo </span><span style="color: #DD0000">"===============================\n"</span><span style="color: #007700">;<br /><br />    if (</span><span style="color: #0000BB">$resultado </span><span style="color: #007700">= </span><span style="color: #0000BB">mysqli_query</span><span style="color: #007700">(</span><span style="color: #0000BB">$enlace</span><span style="color: #007700">, </span><span style="color: #0000BB">$consulta</span><span style="color: #007700">)) {<br /><br />        </span><span style="color: #FF8000">/* Obtener la información del campo para todas las columnas */<br />        </span><span style="color: #0000BB">$info_campo </span><span style="color: #007700">= </span><span style="color: #0000BB">mysqli_fetch_fields</span><span style="color: #007700">(</span><span style="color: #0000BB">$resultado</span><span style="color: #007700">);<br /><br />        foreach (</span><span style="color: #0000BB">$info_campo </span><span style="color: #007700">as </span><span style="color: #0000BB">$valor</span><span style="color: #007700">) {<br />            </span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"Nombre:           %s\n"</span><span style="color: #007700">,   </span><span style="color: #0000BB">$valor</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">name</span><span style="color: #007700">);<br />            </span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"Tabla:            %s\n"</span><span style="color: #007700">,   </span><span style="color: #0000BB">$valor</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">table</span><span style="color: #007700">);<br />            </span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"Longitud máx.:    %d\n"</span><span style="color: #007700">,   </span><span style="color: #0000BB">$valor</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">max_length</span><span style="color: #007700">);<br />            </span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"Longitud:         %d\n"</span><span style="color: #007700">,   </span><span style="color: #0000BB">$valor</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">length</span><span style="color: #007700">);<br />            </span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"Nº conj. caract.: %d\n"</span><span style="color: #007700">,   </span><span style="color: #0000BB">$valor</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">charsetnr</span><span style="color: #007700">);<br />            </span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"Banderas:         %d\n"</span><span style="color: #007700">,   </span><span style="color: #0000BB">$valor</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">flags</span><span style="color: #007700">);<br />            </span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #DD0000">"Tipo:             %d\n\n"</span><span style="color: #007700">, </span><span style="color: #0000BB">$valor</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">type</span><span style="color: #007700">);<br />        }<br />        </span><span style="color: #0000BB">mysqli_free_result</span><span style="color: #007700">(</span><span style="color: #0000BB">$resultado</span><span style="color: #007700">);<br />    }<br />}<br /><br /></span><span style="color: #0000BB">mysqli_close</span><span style="color: #007700">(</span><span style="color: #0000BB">$enlace</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
   </div>

   <div class="example-contents"><p>El resultado de los ejemplos sería:</p></div>
   <div class="example-contents screen">
<div class="examplescode"><pre class="examplescode">===============================
Conjunto de caracteres: latin1
===============================
Nombre:           actor_id
Tabla:            actor
Longitud máx.:    3
Longitud:         5
Nº conj. caract.: 63
Banderas:         49699
Tipo:             2

Nombre:           last_name
Tabla:            actor
Longitud máx.:    12
Longitud:         45
Nº conj. caract.: 8
Banderas:         20489
Tipo:             253

===============================
Conjunto de caracteres: utf8
===============================
Nombre:           actor_id
Tabla:            actor
Longitud máx.:    3
Longitud:         5
Nº conj. caract.: 63
Banderas:         49699
Tipo:             2

Nombre:           last_name
Tabla:            actor
Longitud máx.:    12
Longitud:         135
Nº conj. caract.: 33
Banderas:         20489</pre>
</div>
   </div>
  </div>
 </div>

 
 <div class="refsect1 seealso" id="refsect1-mysqli-result.fetch-fields-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   <ul class="simplelist">
    <li><span class="function"><a href="mysqli-result.field-count.html" class="function" rel="rdfs-seeAlso">mysqli_num_fields()</a> - Obtiene el n&uacute;mero de campos de un resultado</span></li>
    <li><span class="function"><a href="mysqli-result.fetch-field-direct.html" class="function" rel="rdfs-seeAlso">mysqli_fetch_field_direct()</a> - Obtener los metadatos de un &uacute;nico campo</span></li>
    <li><span class="function"><a href="mysqli-result.fetch-field.html" class="function" rel="rdfs-seeAlso">mysqli_fetch_field()</a> - Retorna el pr&oacute;ximo campo del resultset</span></li>
   </ul>
  </p>
 </div>

 
</div></div></div></body></html>