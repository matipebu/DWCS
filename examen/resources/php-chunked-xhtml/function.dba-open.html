<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Abrir una base de datos</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.dba-nextkey.html">« dba_nextkey</a></li>
      <li style="float: right;"><a href="function.dba-optimize.html">dba_optimize »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.dba.html">Funciones de DBA</a></li>
    <li>Abrir una base de datos</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.dba-open" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">dba_open</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">dba_open</span> &mdash; <span class="dc-title">Abrir una base de datos</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.dba-open-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>dba_open</strong></span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type"><a href="language.types.string.html" class="type string">string</a></span> <code class="parameter">$path</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type"><a href="language.types.string.html" class="type string">string</a></span> <code class="parameter">$mode</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type"><a href="language.types.string.html" class="type string">string</a></span> <code class="parameter">$handler</code><span class="initializer"> = ?</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type"><a href="language.types.mixed.html" class="type mixed">mixed</a></span> <code class="parameter">$...</code><span class="initializer"> = ?</span></span><br>): <span class="type"><a href="language.types.resource.html" class="type resource">resource</a></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>dba_open()</strong></span> establece una instancia de una base de datos para
   <code class="parameter">path</code> con <code class="parameter">mode</code> usando
   <code class="parameter">handler</code>.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.dba-open-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   <dl>
    
     <dt><code class="parameter">path</code></dt>
     <dd>
      <p class="para">
       Comúnmente una ruta normal de su sistema de ficheros.
      </p>
     </dd>
    
    
     <dt><code class="parameter">mode</code></dt>
     <dd>
      <p class="para">
       Es <code class="literal">r</code> para acceso de lectura, <code class="literal">w</code> para
       acceso de lectura/escritura de una base de datos existente, <code class="literal">c</code>
       para acceso de lectura/escritura y creación de una base de datos si no existe actualmente,
       y <code class="literal">n</code> para crear, truncar y acceso de lectura/escritura.
       La base de datos se crea en el modo BTree, los demás modos (como Hash o Queue)
       no están soportados.
      </p>
      <p class="para">
       Además se puede establecer el método de bloqueo de la base de datos con el siguiente carácter.
       Use <code class="literal">l</code> para bloquear la base de datos con un fichero <var class="filename">.lck</var>
       o <code class="literal">d</code> para bloquear el fichero de la base de datos mismo. Es
       importante que todas sus aplicaciones hagan esto de manera consistente.
      </p>
      <p class="para">
       Si quiere probar el acceso y no quiere esperar para el bloqueo
       puede añadir <code class="literal">t</code> como tercer carácter. Cuando está absolutamente
       seguro de que no se requiere el bloqueo de la base de datos, puede usar
       <code class="literal">-</code> en lugar de <code class="literal">l</code> o
       <code class="literal">d</code>. Cuando no se usar <code class="literal">d</code>, 
       <code class="literal">l</code> o <code class="literal">-</code>, dba bloqueará
       el archivo de la base de datos como si lo estuviera con <code class="literal">d</code>.
      </p>
      <blockquote class="note"><p><strong class="note">Nota</strong>: 
       <p class="para">
        Sólo puede haber un escritor para el archivo de la base de datos. Cuando se usa dba
        en un servidor web y más de una solicitud requiere operaciones de escritura, sólo pueden
        hacerlo una tras otra. Tampoco está permitido la lectura durante la escritura.
        La extensión dba usa bloqueos para impedirlo. Véase la siguiente tabla:
        <table class="doctable table">
         <caption><strong>Bloqueo de DBA</strong></caption>
         
          <thead>
           <tr>
            <th>ya abierta</th>
            <th><code class="parameter">mode</code> = &quot;rl&quot;</th>
            <th><code class="parameter">mode</code> = &quot;rlt&quot;</th>
            <th><code class="parameter">mode</code> = &quot;wl&quot;</th>
            <th><code class="parameter">mode</code> = &quot;wlt&quot;</th>
            <th><code class="parameter">mode</code> = &quot;rd&quot;</th>
            <th><code class="parameter">mode</code> = &quot;rdt&quot;</th>
            <th><code class="parameter">mode</code> = &quot;wd&quot;</th>
            <th><code class="parameter">mode</code> = &quot;wdt&quot;</th>
           </tr>

          </thead>

          <tbody class="tbody">
           <tr>
            <td>sin abrir</td>
            <td>ok</td>
            <td>ok</td>
            <td>ok</td>
            <td>ok</td>
            <td>ok</td>
            <td>ok</td>
            <td>ok</td>
            <td>ok</td>
           </tr>

           <tr>
            <td><code class="parameter">mode</code> = &quot;rl&quot;</td>
            <td>ok</td>
            <td>ok</td>
            <td>wait</td>
            <td>false</td>
            <td>illegal</td>
            <td>illegal</td>
            <td>illegal</td>
            <td>illegal</td>
           </tr>

           <tr>
            <td><code class="parameter">mode</code> = &quot;wl&quot;</td>
            <td>wait</td>
            <td>false</td>
            <td>wait</td>
            <td>false</td>
            <td>illegal</td>
            <td>illegal</td>
            <td>illegal</td>
            <td>illegal</td>
           </tr>

           <tr>
            <td><code class="parameter">mode</code> = &quot;rd&quot;</td>
            <td>illegal</td>
            <td>illegal</td>
            <td>illegal</td>
            <td>illegal</td>
            <td>ok</td>
            <td>ok</td>
            <td>wait</td>
            <td>false</td>
           </tr>

           <tr>
            <td><code class="parameter">mode</code> = &quot;wd&quot;</td>
            <td>illegal</td>
            <td>illegal</td>
            <td>illegal</td>
            <td>illegal</td>
            <td>wait</td>
            <td>false</td>
            <td>wait</td>
            <td>false</td>
           </tr>

          </tbody>
         
        </table>

        <ul class="simplelist">
         <li>ok: la segunda llamada tendrá éxito.</li>
         <li>wait: la sedunda llamada esperará hasta que se llame a <span class="function"><a href="function.dba-close.html" class="function">dba_close()</a></span> la primera vez.</li>
         <li>false: la segunda llamada devuelve false.</li>
         <li>illegal: no se pueden mezclar los modificadores <code class="literal">&quot;l&quot;</code> y <code class="literal">&quot;d&quot;</code> con el parámetro <code class="parameter">mode</code>.</li>
        </ul>
       </p>
      </p></blockquote>
     </dd>
    
    
     <dt><code class="parameter">handler</code></dt>
     <dd>
      <p class="para">
       El nombre del <a href="dba.requirements.html" class="link">gestor</a> que
       será usado para acceder a <code class="parameter">path</code>. Se le pasan
       todos los parámetros opcionales dados a <span class="function"><strong>dba_open()</strong></span> y
       puede actuar en su nombre.
      </p>
     </dd>
    
   </dl>
  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.dba-open-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve un gestor positivo en caso de éxito  o <strong><code><a href="reserved.constants.html#constant.false">false</a></code></strong> en caso de error.
  </p>
 </div>

 <div class="refsect1 changelog" id="refsect1-function.dba-open-changelog">
  <h3 class="title">Historial de cambios</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Versión</th>
       <th>Descripción</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>4.3.0</td>
       <td>
        Es posible abrir ficheros de bases de datos sobre conexiones de red. Sin embargo,
        en el caso en que se use una conexión de socket (como con http o ftp) la
        conexión se bloqueará en lugar del recurso en sí. Esto es importante
        para saber que en tales casos el bloqueo es ignorado simplemente en el recurso
        y se tienen que encontrar otras soluciones.
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-function.dba-open-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   <ul class="simplelist">
    <li><span class="function"><a href="function.dba-popen.html" class="function" rel="rdfs-seeAlso">dba_popen()</a> - Abrir una base de datos de forma persistente</span></li>
    <li><span class="function"><a href="function.dba-close.html" class="function" rel="rdfs-seeAlso">dba_close()</a> - Cerrar una base de datos DBA</span></li>
   </ul>
  </p>
 </div>

</div></div></div></body></html>