<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Escribir texto en la imagen usando fuentes TrueType</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.imagettfbbox.html">« imagettfbbox</a></li>
      <li style="float: right;"><a href="function.imagetypes.html">imagetypes »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.image.html">Funciones de GD e Im&aacute;genes</a></li>
    <li>Escribir texto en la imagen usando fuentes TrueType</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.imagettftext" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">imagettftext</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">imagettftext</span> &mdash; <span class="dc-title">Escribir texto en la imagen usando fuentes TrueType</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.imagettftext-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>imagettftext</strong></span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type"><a href="language.types.resource.html" class="type resource">resource</a></span> <code class="parameter">$image</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type"><a href="language.types.float.html" class="type float">float</a></span> <code class="parameter">$size</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type"><a href="language.types.float.html" class="type float">float</a></span> <code class="parameter">$angle</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type"><a href="language.types.integer.html" class="type int">int</a></span> <code class="parameter">$x</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type"><a href="language.types.integer.html" class="type int">int</a></span> <code class="parameter">$y</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type"><a href="language.types.integer.html" class="type int">int</a></span> <code class="parameter">$color</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type"><a href="language.types.string.html" class="type string">string</a></span> <code class="parameter">$fontfile</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type"><a href="language.types.string.html" class="type string">string</a></span> <code class="parameter">$text</code></span><br>): <span class="type"><a href="language.types.array.html" class="type array">array</a></span></div>

  <p class="para rdfs-comment">
   Escribe el texto <code class="parameter">text</code> dado en una imagen usando fuentes
   TrueType.
  </p>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.imagettftext-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   <dl>
    <dt><code class="parameter">
image</code></dt><dd><p class="para">Un recurso image, es devuelto por una de las funciones de creación de imágenes,
como <span class="function"><a href="function.imagecreatetruecolor.html" class="function">imagecreatetruecolor()</a></span>.</p></dd>
    
     <dt><code class="parameter">size</code></dt>
     <dd>
      <p class="para">Tamaño de fuente en puntos.</p>
     </dd>
    
    
     <dt><code class="parameter">angle</code></dt>
     <dd>
      <p class="para">
       El ángulo en grados, siendo 0 grados la lectura del texto de izquierda a derecha.
       Valores mayores representan una rotación en sentido contrario al de las agujas del reloj.
       Por ejemplo, un valor de 90 resultaria en la lectura de texto de abajo a arriba.
      </p>
     </dd>
    
    
     <dt><code class="parameter">x</code></dt>
     <dd>
      <p class="para">
       Las coordenadas dadas por <code class="parameter">x</code> e
       <code class="parameter">y</code> definirán el punto de referencia del primer
       carácter (aproximadamente la esquina inferior izquierda del carácter). Esto
       es diferente de <span class="function"><a href="function.imagestring.html" class="function">imagestring()</a></span>, donde
       <code class="parameter">x</code> e <code class="parameter">y</code> definen la
       esquina superior izquierda del primer carácter. Por ejemplo, &quot;superior izquierda&quot;
       es 0, 0.
      </p>
     </dd>
    
    
     <dt><code class="parameter">y</code></dt>
     <dd>
      <p class="para">
       La coordenada y. Esto establece la posición de la línea base de las fuentes, no la del
       pie del carácter.
      </p>
     </dd>
    
    
     <dt><code class="parameter">color</code></dt>
     <dd>
      <p class="para">
       El índice de color. Usar el negativo de un índice de color tiene el efecto de
       desactivar el antialias. Vése <span class="function"><a href="function.imagecolorallocate.html" class="function">imagecolorallocate()</a></span>.
      </p>
     </dd>
    
    
     <dt><code class="parameter">fontfile</code></dt>
     <dd>
      <p class="para">
       La ruta de la fuente TrueType que se desea usar.
      </p>
      <p class="para">
       Dependiendo de la versión de GD que esté usando PHP, <em>cuando
       <code class="parameter">fontfile</code> no comienza con un
       <code class="literal">/</code> inicial, <code class="literal">.ttf</code> será añadido</em>
       al nombre de archivo, y la biblioteca intentará buscar ese
       nombre de archivo en una ruta de biblioteca definida de fuentes.
      </p>
      <p class="para">
       Cuando se usan versiones de la biblioteca GD anteriores a 2.0.18, un carácter
       <code class="literal">espacio</code>, en vez de un punto y coma, es usado como el &#039;separador de ruta&#039;
       para diferentes archivos de fuente. El uso involuntario de esta característica resultará en
       en el mensaje de advertencia: <code class="literal">Warning: Could not find/open font</code>.
       La única solución para estas versiones afectadas es mover la fuente a una ruta que no
       contenga espacios.
      </p>
      <p class="para">
       En muchos casos donde una fuente reside en el mismo derectorio que el script,
       el siguiente truco paliará cualquier problema de inclusión.
       <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">// Establecer la variable de entorno para GD<br /></span><span style="color: #0000BB">putenv</span><span style="color: #007700">(</span><span style="color: #DD0000">'GDFONTPATH=' </span><span style="color: #007700">. </span><span style="color: #0000BB">realpath</span><span style="color: #007700">(</span><span style="color: #DD0000">'.'</span><span style="color: #007700">));<br /><br /></span><span style="color: #FF8000">// Nombrar la fuente que va ser usada (observe la ausencia de la extensión .ttf)<br /></span><span style="color: #0000BB">$fuente </span><span style="color: #007700">= </span><span style="color: #DD0000">'UnaFuente'</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
       </div>

      </p>
     </dd>
    
    
     <dt><code class="parameter">text</code></dt>
     <dd>
      <p class="para">
       La cadena de texto en codificación UTF-8.
      </p>
      <p class="para">
       Puede incluir referencias a caracteres numéricos decimales (de la forma:
       &amp;#8364;) para acceder a caracteres en la fuente que están más allá de la posición 127.
       El formato hexadecimal (como &amp;#xA9;) está soportado.
       Las cadenas en codificación UTF-8 pueden pasarse directamente.
      </p>
      <p class="para">
       Las entidades con nombre, como &amp;copy;, no están soportadas. Considere usar
       <span class="function"><a href="function.html-entity-decode.html" class="function">html_entity_decode()</a></span>
       para decodificar estas entidades con nombre a strings UTF-8.
      </p>
      <p class="para">
       Si un carácter se usa en la cadena y no está soportado por la
       fuente, un rectángulo vacío reemplazará al carácter.
      </p>
     </dd>
    
   </dl>
  </p>
 </div>

 <div class="refsect1 returnvalues" id="refsect1-function.imagettftext-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve una matriz con 8 elementos que representan cuatro puntos que hacen la
   caja circundante. El orden de los puntos es inferior izquierdo, inferior
   derecho, superior derecho, superior izquierdo. Los puntos son relativos al texto
   sin importar el ángulo, por lo que &quot;superior izquierdo&quot; significa en la esquina superior
   izquierda cuando se ve el texto horizontalmente.
   Devuelve <strong><code><a href="reserved.constants.html#constant.false">false</a></code></strong> si se produjo un error.
  </p>
 </div>

 <div class="refsect1 changelog" id="refsect1-function.imagettftext-changelog">
  <h3 class="title">Historial de cambios</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Versión</th>
       <th>Descripción</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>5.2.0</td>
       <td>
        Ahora es posible especificar una entidad hexadecimal en 
        <code class="parameter">text</code>.
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-function.imagettftext-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   <div class="example" id="example-2725">
    <p><strong>Ejemplo #1 Ejemplo de <span class="function"><strong>imagettftext()</strong></span></strong></p>
    <div class="example-contents"><p>
     Este script de ejemplo producirá un PNG blanco de 400x30 píxeles, con
     la palabra &quot;Testing...&quot; en negro (con sombra gris), con la fuente Arial.
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">// Establecer el tipo de contenido<br /></span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">'Content-Type: image/png'</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Crear la imagen<br /></span><span style="color: #0000BB">$im </span><span style="color: #007700">= </span><span style="color: #0000BB">imagecreatetruecolor</span><span style="color: #007700">(</span><span style="color: #0000BB">400</span><span style="color: #007700">, </span><span style="color: #0000BB">30</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Crear algunos colores<br /></span><span style="color: #0000BB">$blanco </span><span style="color: #007700">= </span><span style="color: #0000BB">imagecolorallocate</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">, </span><span style="color: #0000BB">255</span><span style="color: #007700">, </span><span style="color: #0000BB">255</span><span style="color: #007700">, </span><span style="color: #0000BB">255</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$gris </span><span style="color: #007700">= </span><span style="color: #0000BB">imagecolorallocate</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">, </span><span style="color: #0000BB">128</span><span style="color: #007700">, </span><span style="color: #0000BB">128</span><span style="color: #007700">, </span><span style="color: #0000BB">128</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$negro </span><span style="color: #007700">= </span><span style="color: #0000BB">imagecolorallocate</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">, </span><span style="color: #0000BB">0</span><span style="color: #007700">, </span><span style="color: #0000BB">0</span><span style="color: #007700">, </span><span style="color: #0000BB">0</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">imagefilledrectangle</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">, </span><span style="color: #0000BB">0</span><span style="color: #007700">, </span><span style="color: #0000BB">0</span><span style="color: #007700">, </span><span style="color: #0000BB">399</span><span style="color: #007700">, </span><span style="color: #0000BB">29</span><span style="color: #007700">, </span><span style="color: #0000BB">$blanco</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// El texto a dibujar<br /></span><span style="color: #0000BB">$texto </span><span style="color: #007700">= </span><span style="color: #DD0000">'Testing...'</span><span style="color: #007700">;<br /></span><span style="color: #FF8000">// Reemplace la ruta por la de su propia fuente<br /></span><span style="color: #0000BB">$fuente </span><span style="color: #007700">= </span><span style="color: #DD0000">'arial.ttf'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">// Añadir algo de sombra al texto<br /></span><span style="color: #0000BB">imagettftext</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">, </span><span style="color: #0000BB">20</span><span style="color: #007700">, </span><span style="color: #0000BB">0</span><span style="color: #007700">, </span><span style="color: #0000BB">11</span><span style="color: #007700">, </span><span style="color: #0000BB">21</span><span style="color: #007700">, </span><span style="color: #0000BB">$gris</span><span style="color: #007700">, </span><span style="color: #0000BB">$fuente</span><span style="color: #007700">, </span><span style="color: #0000BB">$texto</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Añadir el texto<br /></span><span style="color: #0000BB">imagettftext</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">, </span><span style="color: #0000BB">20</span><span style="color: #007700">, </span><span style="color: #0000BB">0</span><span style="color: #007700">, </span><span style="color: #0000BB">10</span><span style="color: #007700">, </span><span style="color: #0000BB">20</span><span style="color: #007700">, </span><span style="color: #0000BB">$negro</span><span style="color: #007700">, </span><span style="color: #0000BB">$fuente</span><span style="color: #007700">, </span><span style="color: #0000BB">$texto</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// Usar imagepng() resultará en un texto más claro comparado con imagejpeg()<br /></span><span style="color: #0000BB">imagepng</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">imagedestroy</span><span style="color: #007700">(</span><span style="color: #0000BB">$im</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

    <div class="example-contents"><p>El resultado del ejemplo
sería algo similar a:</p></div>
    <div class="mediaobject">
     
     <div class="imageobject">
      <img src="images/21009b70229598c6a80eef8b45bf282b-imagettftext.png" alt="Salida del ejemplo : imagettftext()" width="400" height="30" />
     </div>
    </div>
   </div>
  </p>
 </div>

 <div class="refsect1 notes" id="refsect1-function.imagettftext-notes">
  <h3 class="title">Notas</h3>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   <p class="para">
    Esta función requiere tanto la biblioteca GD como la biblioteca <a href="http://www.freetype.org/" class="link external">&raquo;&nbsp;FreeType</a>.
   </p>
  </p></blockquote>
 </div>

 <div class="refsect1 seealso" id="refsect1-function.imagettftext-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   <ul class="simplelist">
    <li><span class="function"><a href="function.imagettfbbox.html" class="function" rel="rdfs-seeAlso">imagettfbbox()</a> - Devuelve la caja circundante de un texto usando fuentes TrueType</span></li>
   </ul>
  </p>
 </div>

</div></div></div></body></html>