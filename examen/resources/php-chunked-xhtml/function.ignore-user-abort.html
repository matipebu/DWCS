<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Establecer si la desconexi&oacute;n de un cliente deber&iacute;a abortar la ejecuci&oacute;n del script</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.hrtime.html">« hrtime</a></li>
      <li style="float: right;"><a href="function.pack.html">pack »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.misc.html">Funciones Varias</a></li>
    <li>Establecer si la desconexi&oacute;n de un cliente deber&iacute;a abortar la ejecuci&oacute;n del script</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.ignore-user-abort" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">ignore_user_abort</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">ignore_user_abort</span> &mdash; <span class="dc-title">Establecer si la desconexión de un cliente debería abortar la ejecución del script</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.ignore-user-abort-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>ignore_user_abort</strong></span>(<span class="methodparam"><span class="type"><a href="language.types.boolean.html" class="type bool">bool</a></span> <code class="parameter">$value</code><span class="initializer"> = ?</span></span>): <span class="type"><a href="language.types.integer.html" class="type int">int</a></span></div>

  <p class="para rdfs-comment">
   Establece si la desconexión de un cliente debería ocasionar que el script sea abortado.
  </p>
  <p class="para">
   Cuando se ejecuta PHP como un script de línea de comandos, y el tty del script
   finaliza sin que el script haya terminado, el script cesará su ejecución la
   siguiente vez que se intente escribir algo, a menos que
   <code class="parameter">value</code> esté establecido a <strong><code><a href="reserved.constants.html#constant.true">true</a></code></strong>
  </p>
 </div>

 
 <div class="refsect1 parameters" id="refsect1-function.ignore-user-abort-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   <dl>
    
     <dt><code class="parameter">value</code></dt>
     <dd>
      <p class="para">
       Si se establece, esta función establecerá la configuración ini de <a href="misc.configuration.html#ini.ignore-user-abort" class="link">ignore_user_abort</a>
       al valor dado por <code class="parameter">value</code>. Si no, esta función sólo
       devolverá la configuración previa sin cambiarla.
      </p>
     </dd>
    
   </dl>
  </p>
 </div>

 
 <div class="refsect1 returnvalues" id="refsect1-function.ignore-user-abort-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve la configuración previa, como un integer.
  </p>
 </div>

 
 <div class="refsect1 examples" id="refsect1-function.ignore-user-abort-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   <div class="example" id="example-3479">
    <p><strong>Ejemplo #1 Un ejemplo <span class="function"><strong>ignore_user_abort()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #FF8000">// Ignorar los abortos hechos por el usuario y permitir que el script<br />// se ejecute siempre<br /></span><span style="color: #0000BB">ignore_user_abort</span><span style="color: #007700">(</span><span style="color: #0000BB">true</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">set_time_limit</span><span style="color: #007700">(</span><span style="color: #0000BB">0</span><span style="color: #007700">);<br /><br />echo </span><span style="color: #DD0000">'Probando la gestión de conexión de PHP'</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">// Ejecutar un bucle que hará, con suerte,<br />// que hagamos clic fuera de la<br />// página o en el botón "Parar".<br /></span><span style="color: #007700">while(</span><span style="color: #0000BB">1</span><span style="color: #007700">)<br />{<br />    </span><span style="color: #FF8000">// ¿Falló la conexión?<br />    </span><span style="color: #007700">if(</span><span style="color: #0000BB">connection_status</span><span style="color: #007700">() != </span><span style="color: #0000BB">CONNECTION_NORMAL</span><span style="color: #007700">)<br />    {<br />        break;<br />    }<br /><br />    </span><span style="color: #FF8000">// Dormir durante 10 segundos<br />    </span><span style="color: #0000BB">sleep</span><span style="color: #007700">(</span><span style="color: #0000BB">10</span><span style="color: #007700">);<br />}<br /><br /></span><span style="color: #FF8000">// Si se alcanza esto, el 'break' <br />// fue provocado desde dentro del bucle while<br /><br />// Por tanto, aquí podemos realizar una anotación o cualquier<br />// otra tarea que sea necesaria sin depender realmente del<br />// navegador.<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  </p>
 </div>

 
 <div class="refsect1 notes" id="refsect1-function.ignore-user-abort-notes">
  <h3 class="title">Notas</h3>
  <p class="para">
   PHP no detectará que el usuario abortó la conexión hasta que
   se haga un intento de enviar información al cliente. Usar simplemente
   una sentencia echo no garantiza que la información sea enviada, veáse
   <span class="function"><a href="function.flush.html" class="function">flush()</a></span>. 
  </p>
 </div>

 
 <div class="refsect1 seealso" id="refsect1-function.ignore-user-abort-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   <ul class="simplelist">
    <li><span class="function"><a href="function.connection-aborted.html" class="function" rel="rdfs-seeAlso">connection_aborted()</a> - Verifica si el cliente se desconect&oacute;</span></li>
    <li><span class="function"><a href="function.connection-status.html" class="function" rel="rdfs-seeAlso">connection_status()</a> - Devuelve el campo de bits de status de conexi&oacute;n</span></li>
    <li>
     <a href="features.connection-handling.html" class="link">Manejo de conexiones</a>
     para una descripción completa del manejo de conexiones de PHP.
    </li>
   </ul>
  </p>
 </div>

 
</div></div></div></body></html>