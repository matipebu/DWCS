<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Algo &uacute;til</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="tutorial.firstpage.html">« Su primera p&aacute;gina con PHP</a></li>
      <li style="float: right;"><a href="tutorial.forms.html">Tratar con formularios »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="tutorial.html">Un tutorial sencillo</a></li>
    <li>Algo &uacute;til</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="tutorial.useful" class="section">
  <div class="info"><h1 class="title">Algo útil</h1></div>
  <p class="para">
   Hagamos ahora algo que puede ser más útil. Vamos a comprobar
   qué tipo de navegador está utilizando el usuario visitante.
   Para hacerlo, vamos a comprobar el string del agente de usuario que el navegador
   envía como parte de la petición HTTP. Esta información es almacenada en una <a href="language.variables.html" class="link">variable</a>. En PHP, las variables siempre
   comienzan con un signo de dólar. La variable que nos interesa ahora es
   <var class="varname"><a href="reserved.variables.server.html" class="classname">$_SERVER['HTTP_USER_AGENT']</a></var>.
  </p>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   <p class="para">
    <var class="varname"><a href="reserved.variables.server.html" class="classname">$_SERVER</a></var> es una variable especial reservada
    por PHP que contiene toda la información del servidor web.
    Es conocida como una superglobal. Consulte la página del manual sobre
    <a href="language.variables.superglobals.html" class="link">Superglobales</a>
    para más información.
   </p>
  </p></blockquote>
  <p class="para">
   Para mostrar esta variable, se puede hacer simplemente:
  </p>
  <p class="para">
   <div class="example" id="example-4">
    <div class="info"><p><strong>Ejemplo #1 Imprimir una variable (elemento de array)</strong></p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">echo </span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'HTTP_USER_AGENT'</span><span style="color: #007700">];<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

    <div class="example-contents"><p>
     Un ejemplo del resultado de este script podría ser:
    </p></div>
    <div class="example-contents screen"><br />
     Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1)<br />
    </div>
   </div>
  </p>
  <p class="para">
   Hay muchos <a href="language.types.html" class="link">tipos</a> de
   variables en PHP.  En el ejemplo anterior se muestra un elemento
   de un <a href="language.types.array.html" class="link">Array</a>.
   Los arrays pueden ser muy útiles.
  </p>
  <p class="para">
   <var class="varname"><a href="reserved.variables.server.html" class="classname">$_SERVER</a></var> es simplemente una variable que se encuentra
   disponible automáticamente en PHP. Se puede encontrar una lista en la
   sección <a href="reserved.variables.html" class="link">Variables reservadas</a>
   del manual, o se puede obtener una lista completa observando
   la salida de la función <span class="function"><a href="function.phpinfo.html" class="function">phpinfo()</a></span> usada en el
   ejemplo de la sección anterior.
  </p>
  <p class="para">
   Puede usar múltiples sentencias de PHP dentro de una etiqueta de PHP y crear
   pequeños bloques de código que realicen más que un simple &#039;echo&#039;.
   Por ejemplo, si se quisiera detectar el uso de Internet Explorer,
   se podría hacer algo así:
  </p>
  <p class="para">
   <div class="example" id="example-5">
    <div class="info"><p><strong>Ejemplo #2 Ejemplo usando <a href="language.control-structures.html" class="link">estructuras
     de control</a> y <a href="language.functions.html" class="link">funciones</a></strong></p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">if (</span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'HTTP_USER_AGENT'</span><span style="color: #007700">], </span><span style="color: #DD0000">'MSIE'</span><span style="color: #007700">) !== </span><span style="color: #0000BB">FALSE</span><span style="color: #007700">) {<br />    echo </span><span style="color: #DD0000">'Está usando Internet Explorer.&lt;br /&gt;'</span><span style="color: #007700">;<br />}<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

    <div class="example-contents"><p>
     Un ejemplo del resultado de este script sería:
    </p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
Está usando Internet Explorer.&lt;br /&gt;
</pre></div>
    </div>
   </div>
  </p>
  <p class="para">
   Aquí hemos introducido un par de conceptos nuevos. Tenemos
   una sentencia <a href="control-structures.if.html" class="link">if</a>.
   Si está familiarizado con la sintaxis básica del lenguaje C,
   debería parecerle lógico. De lo contrario, probablemente debería
   conseguir un libro que le introduzca a PHP, y leer el primer
   par de capítulos, o leer la parte del manual titulada
   <a href="langref.html" class="link">Referencia del lenguaje</a>.
  </p>
  <p class="para">
   El segundo concepto que introducimos fue la función llamada a
   <span class="function"><a href="function.strpos.html" class="function">strpos()</a></span>. <span class="function"><a href="function.strpos.html" class="function">strpos()</a></span> es una función
   integrada en PHP que busca un string dentro de otro. En este caso estamos
   buscando <code class="literal">&#039;MSIE&#039;</code> (también llamado aguja) dentro de
   <var class="varname"><a href="reserved.variables.server.html" class="classname">$_SERVER['HTTP_USER_AGENT']</a></var> (también llamado pajar).
   Si el string se encuentra dentro del pajar, la función devuelve la posición
   de la aguja relativa al inicio del pajar. De lo contrario,
   devuelve <strong><code><a href="reserved.constants.html#constant.false">false</a></code></strong>. Si no devuelve <strong><code><a href="reserved.constants.html#constant.false">false</a></code></strong>, la expresión <a href="control-structures.if.html" class="link">if</a> se evalúa como <strong><code><a href="reserved.constants.html#constant.true">true</a></code></strong>
   y se ejecuta el código entre llaves {}. De lo contrario, el código no
   será ejecutado. Tómese la libertad de crear ejemplos similares,
   con <a href="control-structures.if.html" class="link">if</a>,
   <a href="control-structures.else.html" class="link">else</a>, y otras
   funciones como <span class="function"><a href="function.strtoupper.html" class="function">strtoupper()</a></span> y
   <span class="function"><a href="function.strlen.html" class="function">strlen()</a></span>. Cada página del manual relacionada también
   contiene ejemplos. Si no está seguro de cómo usar estas funciones, es recomendable
   que lea las páginas del manual sobre <a href="about.prototypes.html" class="link">Cómo interpretar
   una definición de función</a> y la sección sobre <a href="language.functions.html" class="link">Funciones de PHP</a>.
  </p>
  <p class="para">
   Podemos dar un paso más y mostrar cómo se puede entrar y salir
   del modo PHP incluso en medio de un bloque de código de PHP:
  </p>
  <p class="para">
   <div class="example" id="example-6">
    <div class="info"><p><strong>Ejemplo #3 Mezcla de los modos HTML y PHP</strong></p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">if (</span><span style="color: #0000BB">strpos</span><span style="color: #007700">(</span><span style="color: #0000BB">$_SERVER</span><span style="color: #007700">[</span><span style="color: #DD0000">'HTTP_USER_AGENT'</span><span style="color: #007700">], </span><span style="color: #DD0000">'MSIE'</span><span style="color: #007700">) !== </span><span style="color: #0000BB">FALSE</span><span style="color: #007700">) {<br /></span><span style="color: #0000BB">?&gt;<br /></span>&lt;h3&gt;strpos() debe haber devuelto no falso&lt;/h3&gt;<br />&lt;p&gt;Está usando Internet Explorer&lt;/p&gt;<br /><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">} else {<br /></span><span style="color: #0000BB">?&gt;<br /></span>&lt;h3&gt;strpos() debe haber devuelto falso&lt;/h3&gt;<br />&lt;p&gt;No está usando Internet Explorer&lt;/p&gt;<br /><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">}<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

    <div class="example-contents"><p>
     Un ejemplo del resultado del script podría ser:
    </p></div>
    <div class="example-contents screen">
<div class="cdata"><pre>
&lt;h3&gt;strpos() debe haber devuelto no falso&lt;/h3&gt;
&lt;p&gt;Está usando Internet Explorer&lt;/p&gt;
</pre></div>
    </div>
   </div>
  </p>
  <p class="para">
   En vez de usar una sentencia echo de PHP para mostrar algo, salimos
   del modo PHP y enviamos solamente HTML. Este es un punto muy importante y potente
   que se ha de observar aquí, y es que la fluidez lógica del script permanece intacta.
   Solamente uno de los bloques HTML terminará siendo enviado al navegador dependiendo
   del resultado de <span class="function"><a href="function.strpos.html" class="function">strpos()</a></span>. En otras palabras, depende de si
   el string <code class="literal">MSIE</code> fue encontrada o no.
  </p>
 </div></div></div></body></html>