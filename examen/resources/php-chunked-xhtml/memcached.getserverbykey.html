<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Hacer corresponder una clave con un servidor</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="memcached.getresultmessage.html">« Memcached::getResultMessage</a></li>
      <li style="float: right;"><a href="memcached.getserverlist.html">Memcached::getServerList »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="class.memcached.html">Memcached</a></li>
    <li>Hacer corresponder una clave con un servidor</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="memcached.getserverbykey" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">Memcached::getServerByKey</h1>
  <p class="verinfo">(PECL memcached &gt;= 0.1.0)</p><p class="refpurpose"><span class="refname">Memcached::getServerByKey</span> &mdash; <span class="dc-title">Hacer corresponder una clave con un servidor</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-memcached.getserverbykey-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>Memcached::getServerByKey</strong></span>(<span class="methodparam"><span class="type"><a href="language.types.string.html" class="type string">string</a></span> <code class="parameter">$server_key</code></span>): <span class="type"><a href="language.types.array.html" class="type array">array</a></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>Memcached::getServerByKey()</strong></span> devuelve el servidor que
   será seleccionado por una clave dada por <code class="parameter">server_key</code> en particular para todas
   las operaciones <span class="function"><strong>Memcached::*ByKey()</strong></span>.
  </p>
 </div>

 
 <div class="refsect1 parameters" id="refsect1-memcached.getserverbykey-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   <dl>
    
     <dt><code class="parameter">server_key</code></dt>
     <dd>
      <p class="para">
       La clave que identifica al servidor donde guardar o recuperar el valor. En lugar de realizar un hash en la clave real para el ítem, se realiza en la clave del servidor cuando se decide con qué servidor de memcached conversar. Esto permite que los ítems relacionados sean agrupados en un único servidor para una mayor eficacia con operaciones múltiples.
      </p>
     </dd>
    
   </dl>
  </p>
 </div>

 
 <div class="refsect1 returnvalues" id="refsect1-memcached.getserverbykey-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve un array que contiene tres claves: <code class="literal">host</code>,
   <code class="literal">port</code>, y <code class="literal">weight</code> en caso de éxito,
   o <strong><code><a href="reserved.constants.html#constant.false">false</a></code></strong> en case de error.
   Emplee <span class="methodname"><a href="memcached.getresultcode.html" class="methodname">Memcached::getResultCode()</a></span> si fuera necesario.
  </p>
 </div>

 
 <div class="refsect1 examples" id="refsect1-memcached.getserverbykey-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   <div class="example" id="example-4413">
    <p><strong>Ejemplo #1 Ejemplo de <span class="function"><strong>Memcached::getServerByKey()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br />$m </span><span style="color: #007700">= new </span><span style="color: #0000BB">Memcached</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">$m</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">addServers</span><span style="color: #007700">(array(<br />    array(</span><span style="color: #DD0000">'mem1.dominio.com'</span><span style="color: #007700">, </span><span style="color: #0000BB">11211</span><span style="color: #007700">, </span><span style="color: #0000BB">40</span><span style="color: #007700">),<br />    array(</span><span style="color: #DD0000">'mem2.dominio.com'</span><span style="color: #007700">, </span><span style="color: #0000BB">11211</span><span style="color: #007700">, </span><span style="color: #0000BB">40</span><span style="color: #007700">),<br />    array(</span><span style="color: #DD0000">'mem3.dominio.com'</span><span style="color: #007700">, </span><span style="color: #0000BB">11211</span><span style="color: #007700">, </span><span style="color: #0000BB">20</span><span style="color: #007700">),<br />));<br /><br /></span><span style="color: #0000BB">$m</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setOption</span><span style="color: #007700">(</span><span style="color: #0000BB">Memcached</span><span style="color: #007700">::</span><span style="color: #0000BB">OPT_LIBKETAMA_COMPATIBLE</span><span style="color: #007700">, </span><span style="color: #0000BB">true</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$m</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getServerByKey</span><span style="color: #007700">(</span><span style="color: #DD0000">'user'</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$m</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getServerByKey</span><span style="color: #007700">(</span><span style="color: #DD0000">'log'</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$m</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getServerByKey</span><span style="color: #007700">(</span><span style="color: #DD0000">'ip'</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

    <div class="example-contents"><p>El resultado del ejemplo
sería algo similar a:</p></div>
    <div class="example-contents screen">
<div class="examplescode"><pre class="examplescode">array(3) {
  [&quot;host&quot;]=&gt;
  string(16) &quot;mem3.dominio.com&quot;
  [&quot;port&quot;]=&gt;
  int(11211)
  [&quot;weight&quot;]=&gt;
  int(20)
}
array(3) {
  [&quot;host&quot;]=&gt;
  string(16) &quot;mem2.dominio.com&quot;
  [&quot;port&quot;]=&gt;
  int(11211)
  [&quot;weight&quot;]=&gt;
  int(40)
}
array(3) {
  [&quot;host&quot;]=&gt;
  string(16) &quot;mem2.dominio.com&quot;
  [&quot;port&quot;]=&gt;
  int(11211)
  [&quot;weight&quot;]=&gt;
  int(40)
}</pre>
</div>
    </div>
   </div>
  </p>
 </div>

 
</div></div></div></body></html>