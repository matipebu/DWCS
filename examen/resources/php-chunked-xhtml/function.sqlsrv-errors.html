<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Devuelve informaci&oacute;n de errores y alertas (warnings) de la &uacute;ltima operaci&oacute;n SQLSRV realizada</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.sqlsrv-connect.html">« sqlsrv_connect</a></li>
      <li style="float: right;"><a href="function.sqlsrv-execute.html">sqlsrv_execute »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.sqlsrv.html">SQLSRV Funciones</a></li>
    <li>Devuelve informaci&oacute;n de errores y alertas (warnings) de la &uacute;ltima operaci&oacute;n SQLSRV realizada</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.sqlsrv-errors" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">sqlsrv_errors</h1>
  <p class="verinfo">(No version information available, might only be in Git)</p><p class="refpurpose"><span class="refname">sqlsrv_errors</span> &mdash; <span class="dc-title">Devuelve información de errores y alertas (warnings) de la última operación SQLSRV realizada</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.sqlsrv-errors-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   
   <span class="methodname"><strong>sqlsrv_errors</strong></span>(<span class="methodparam"><span class="type"><a href="language.types.integer.html" class="type int">int</a></span> <code class="parameter">$errorsOrWarnings</code><span class="initializer"> = ?</span></span>): <span class="type"><a href="language.types.mixed.html" class="type mixed">mixed</a></span></div>

  <p class="para rdfs-comment">
   Devuelve información de errores y alertas de la última operación SQLSRV realizada.
  </p>
 </div>

 
 <div class="refsect1 parameters" id="refsect1-function.sqlsrv-errors-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   <dl>
    
     <dt><code class="parameter">errorsOrWarnings</code></dt>
     <dd>
      <p class="para">
       Determina si se ha de retornar información de error, alertas, o 
       ambas. Si este parámetro no se informa, se devolverá tanto información de error como 
       de alerta. Este parámetro puede tomar los 
       siguientes valores: SQLSRV_ERR_ALL, SQLSRV_ERR_ERRORS, SQLSRV_ERR_WARNINGS.
      </p>
     </dd>
    
   </dl>
  </p>
 </div>

 
 <div class="refsect1 returnvalues" id="refsect1-function.sqlsrv-errors-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Si se produjeron errores y/o warnings en la última operación sqlsrv, se devolverá un array de
   arrays conteniendo información de error. Si no se produjeron errores y/o alertas
   en la última operación sqlsrv, se devolverá <strong><code><a href="reserved.constants.html#constant.null">null</a></code></strong>. La siguiente tabla
   describe la estructura de los arrays devueltos:
   <table class="doctable table">
   <caption><strong>Array devuelto por sqlsrv_errors</strong></caption>
   
    <thead>
     <tr>
      <th>Clave</th>
      <th>Descripción</th>
     </tr>

    </thead>

    <tbody class="tbody">
     <tr>
      <td>SQLSTATE</td>
      <td>Para errores que se originan en el driver ODBC driver, el SQLSTATE devuelto 
      por ODBC. Para errores que se originan en los drivers de Microsoft para PHP para 
      SQL Server, un SQLSTATE de IMSSP. Para alertas que se originan en los drivers de
      Microsoft para PHP para SQL Server, un SQLSTATE de 01SSP.
      </td>
     </tr>

     <tr>
      <td>code</td>
      <td>Para errores que se originan en SQL Server, el código de error SQL Server 
      nativo. Para errores que se originan en el driver ODBC, el código 
      de error devuelto por ODBC. Para errores que se originan en los Drivers de Microsoft
      para PHP para SQL Server, los códigos de error de SQL Server para los Drivers de Microsoft para PHP.
      </td>
     </tr>

     <tr>
      <td>message</td>
      <td>Una descripción del error.</td>
     </tr>

    </tbody>
   
  </table>

  </p>
 </div>

 
 <div class="refsect1 examples" id="refsect1-function.sqlsrv-errors-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   <div class="example" id="example-2005">
    <p><strong>Ejemplo #1 ejemplo de <span class="function"><strong>functionname()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br />$serverName </span><span style="color: #007700">= </span><span style="color: #DD0000">"serverName/sqlexpress"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$connectionInfo </span><span style="color: #007700">= array( </span><span style="color: #DD0000">"Database"</span><span style="color: #007700">=&gt;</span><span style="color: #DD0000">"dbName"</span><span style="color: #007700">, </span><span style="color: #DD0000">"UID"</span><span style="color: #007700">=&gt;</span><span style="color: #DD0000">"username"</span><span style="color: #007700">, </span><span style="color: #DD0000">"PWD"</span><span style="color: #007700">=&gt;</span><span style="color: #DD0000">"password"</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$conn </span><span style="color: #007700">= </span><span style="color: #0000BB">sqlsrv_connect</span><span style="color: #007700">( </span><span style="color: #0000BB">$serverName</span><span style="color: #007700">, </span><span style="color: #0000BB">$connectionInfo</span><span style="color: #007700">);<br />if( </span><span style="color: #0000BB">$conn </span><span style="color: #007700">=== </span><span style="color: #0000BB">false </span><span style="color: #007700">) {<br />     die( </span><span style="color: #0000BB">print_r</span><span style="color: #007700">( </span><span style="color: #0000BB">sqlsrv_errors</span><span style="color: #007700">(), </span><span style="color: #0000BB">true</span><span style="color: #007700">));<br />}<br /><br /></span><span style="color: #FF8000">/* Query que selecciona un nombre de columna inválida. */<br /></span><span style="color: #0000BB">$sql </span><span style="color: #007700">= </span><span style="color: #DD0000">"SELECT BadColumnName FROM Table_1"</span><span style="color: #007700">;<br /><br /></span><span style="color: #FF8000">/* Ejecución de la query que fallará debido al nombre de columna incorrecto. */<br /></span><span style="color: #0000BB">$stmt </span><span style="color: #007700">= </span><span style="color: #0000BB">sqlsrv_query</span><span style="color: #007700">( </span><span style="color: #0000BB">$conn</span><span style="color: #007700">, </span><span style="color: #0000BB">$sql </span><span style="color: #007700">);<br />if( </span><span style="color: #0000BB">$stmt </span><span style="color: #007700">=== </span><span style="color: #0000BB">false </span><span style="color: #007700">) {<br />    if( (</span><span style="color: #0000BB">$errors </span><span style="color: #007700">= </span><span style="color: #0000BB">sqlsrv_errors</span><span style="color: #007700">() ) != </span><span style="color: #0000BB">null</span><span style="color: #007700">) {<br />        foreach( </span><span style="color: #0000BB">$errors </span><span style="color: #007700">as </span><span style="color: #0000BB">$error </span><span style="color: #007700">) {<br />            echo </span><span style="color: #DD0000">"SQLSTATE: "</span><span style="color: #007700">.</span><span style="color: #0000BB">$error</span><span style="color: #007700">[ </span><span style="color: #DD0000">'SQLSTATE'</span><span style="color: #007700">].</span><span style="color: #DD0000">"&lt;br /&gt;"</span><span style="color: #007700">;<br />            echo </span><span style="color: #DD0000">"code: "</span><span style="color: #007700">.</span><span style="color: #0000BB">$error</span><span style="color: #007700">[ </span><span style="color: #DD0000">'code'</span><span style="color: #007700">].</span><span style="color: #DD0000">"&lt;br /&gt;"</span><span style="color: #007700">;<br />            echo </span><span style="color: #DD0000">"message: "</span><span style="color: #007700">.</span><span style="color: #0000BB">$error</span><span style="color: #007700">[ </span><span style="color: #DD0000">'message'</span><span style="color: #007700">].</span><span style="color: #DD0000">"&lt;br /&gt;"</span><span style="color: #007700">;<br />        }<br />    }<br />}<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.sqlsrv-errors-notes">
  <h3 class="title">Notas</h3>
  <p class="para">
   Por defecto, las alertas generadas en una llamada a cualquier función SQLSRV se tratarán
   como errores. Esto significa que si una alerta ocurre en una llamada a una función SQLSRV, 
   la función devolverá <strong><code><a href="reserved.constants.html#constant.false">false</a></code></strong>. Sin embargo, las alertas correspondientes a los valores de 
   SQLSTATE 01000, 01001, 01003, y 01S02 nunca se tratarán como errores. Para 
   obtener información sobre cómo cambiar este comportamiento, ver <span class="function"><a href="function.sqlsrv-configure.html" class="function">sqlsrv_configure()</a></span> 
   y la configuración de WarningsReturnAsErrors.
  </p>
 </div>

 
 <div class="refsect1 seealso" id="refsect1-function.sqlsrv-errors-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   <ul class="simplelist">
    <li><span class="function"><a href="function.sqlsrv-configure.html" class="function" rel="rdfs-seeAlso">sqlsrv_configure()</a> - Cambia la configuraci&oacute;n de los drivers del gestionador de errores y de log</span></li>
   </ul>
  </p>
 </div>

</div></div></div></body></html>