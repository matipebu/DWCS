<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Limpia la cach&eacute; de estado de un archivo</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.chown.html">« chown</a></li>
      <li style="float: right;"><a href="function.copy.html">copy »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.filesystem.html">Funciones del Sistema de Archivos</a></li>
    <li>Limpia la cach&eacute; de estado de un archivo</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.clearstatcache" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">clearstatcache</h1>
  <p class="verinfo">(PHP 4, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">clearstatcache</span> &mdash; <span class="dc-title">Limpia la caché de estado de un archivo</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.clearstatcache-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>clearstatcache</strong></span>(<span class="methodparam"><span class="type"><a href="language.types.boolean.html" class="type bool">bool</a></span> <code class="parameter">$clear_realpath_cache</code><span class="initializer"> = false</span></span>, <span class="methodparam"><span class="type"><a href="language.types.string.html" class="type string">string</a></span> <code class="parameter">$filename</code><span class="initializer"> = ?</span></span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

  <p class="para rdfs-comment">
   Cuando usa <span class="function"><a href="function.stat.html" class="function">stat()</a></span>, <span class="function"><a href="function.lstat.html" class="function">lstat()</a></span>, o
   cualquier otra función enumerada en la lista de funciones afectadas (abajo),
   PHP examina la información que devuelven esas funciones para proporcionar
   un rendimiento más rápido. Sin embargo, en ciertos casos, puede querer borrar la
   información almacenada en caché. Por ejemplo, si el mismo archivo está siendo verificado
   múltiples veces dentro de un sólo script, y ese archivo corre el peligro de
   ser borrado o modificado durante la operación de ese script, puede optar por
   limpiar la caché de estado. En estos casos, puede usar la función
   <span class="function"><strong>clearstatcache()</strong></span> para borrar la información
   que PHP examina del archivo.
  </p>
  <p class="para">
   Debería observar también que PHP no examina información sobre archivos no
   existentes. Por lo que si llama a <span class="function"><a href="function.file-exists.html" class="function">file_exists()</a></span> con un archivo que
   no existe, se devolverá <strong><code><a href="reserved.constants.html#constant.false">false</a></code></strong> a menos que cree el archivo. Si crea
   el archivo, se devolverá <strong><code><a href="reserved.constants.html#constant.true">true</a></code></strong> incluso si después borra el archivo.
   Sin embargo <span class="function"><a href="function.unlink.html" class="function">unlink()</a></span> limpia la caché automáticamente.
  </p>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   <p class="para">
    Esta función examina la información sobre nombres de archivos específicos, por lo que sólo
    necesita llamar a <span class="function"><strong>clearstatcache()</strong></span> si está llevando a cabo
    múltiples operaciones sobre un mismo nombre de archivo y necesita que la información
    sobre ese archivo en particular no sea examinada.
   </p>
  </p></blockquote>
  <p class="para">
   Las funciones afectadas incluyen <span class="function"><a href="function.stat.html" class="function">stat()</a></span>,
   <span class="function"><a href="function.lstat.html" class="function">lstat()</a></span>,
   <span class="function"><a href="function.file-exists.html" class="function">file_exists()</a></span>,
   <span class="function"><a href="function.is-writable.html" class="function">is_writable()</a></span>,
   <span class="function"><a href="function.is-readable.html" class="function">is_readable()</a></span>,
   <span class="function"><a href="function.is-executable.html" class="function">is_executable()</a></span>,
   <span class="function"><a href="function.is-file.html" class="function">is_file()</a></span>,
   <span class="function"><a href="function.is-dir.html" class="function">is_dir()</a></span>,
   <span class="function"><a href="function.is-link.html" class="function">is_link()</a></span>,
   <span class="function"><a href="function.filectime.html" class="function">filectime()</a></span>,
   <span class="function"><a href="function.fileatime.html" class="function">fileatime()</a></span>,
   <span class="function"><a href="function.filemtime.html" class="function">filemtime()</a></span>,
   <span class="function"><a href="function.fileinode.html" class="function">fileinode()</a></span>,
   <span class="function"><a href="function.filegroup.html" class="function">filegroup()</a></span>,
   <span class="function"><a href="function.fileowner.html" class="function">fileowner()</a></span>,
   <span class="function"><a href="function.filesize.html" class="function">filesize()</a></span>,
   <span class="function"><a href="function.filetype.html" class="function">filetype()</a></span>, y
   <span class="function"><a href="function.fileperms.html" class="function">fileperms()</a></span>.
  </p>
 </div>

 
 <div class="refsect1 parameters" id="refsect1-function.clearstatcache-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   <dl>
    
     <dt><code class="parameter">clear_realpath_cache</code></dt>
     <dd>
      <p class="para">
       Si se limpia la caché de la ruta real o no.
      </p>
     </dd>
    
    
     <dt><code class="parameter">filename</code></dt>
     <dd>
      <p class="para">
       Limpia la ruta real y la caché de estadísticas para un nombre de fichero específico; solamente
       se usa si <code class="parameter">clear_realpath_cache</code> es <strong><code><a href="reserved.constants.html#constant.true">true</a></code></strong>.
      </p>
     </dd>
    
   </dl>
  </p>
 </div>

 
 <div class="refsect1 returnvalues" id="refsect1-function.clearstatcache-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   No devuelve ningún valor.
  </p>
 </div>

 
 <div class="refsect1 changelog" id="refsect1-function.clearstatcache-changelog">
  <h3 class="title">Historial de cambios</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Versión</th>
       <th>Descripción</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>5.3.0</td>
       <td>
        Se añadieron los parámetros opcionales <code class="parameter">clear_realpath_cache</code> 
        y <code class="parameter">filename</code>.
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>

 
 <div class="refsect1 examples" id="refsect1-function.clearstatcache-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   <div class="example" id="example-2147">
    <p><strong>Ejemplo #1 Ejemplo de <span class="function"><strong>clearstatcache()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br />$archivo </span><span style="color: #007700">= </span><span style="color: #DD0000">'output_log.txt'</span><span style="color: #007700">;<br /><br />function </span><span style="color: #0000BB">obtener_propietario</span><span style="color: #007700">(</span><span style="color: #0000BB">$archivo</span><span style="color: #007700">)<br />{<br />    </span><span style="color: #0000BB">$estadísticas </span><span style="color: #007700">= </span><span style="color: #0000BB">stat</span><span style="color: #007700">(</span><span style="color: #0000BB">$archivo</span><span style="color: #007700">);<br />    </span><span style="color: #0000BB">$usuario </span><span style="color: #007700">= </span><span style="color: #0000BB">posix_getpwuid</span><span style="color: #007700">(</span><span style="color: #0000BB">$estadísticas</span><span style="color: #007700">[</span><span style="color: #DD0000">'uid'</span><span style="color: #007700">]);<br />    return </span><span style="color: #0000BB">$usuario</span><span style="color: #007700">[</span><span style="color: #DD0000">'name'</span><span style="color: #007700">];<br />}<br /><br /></span><span style="color: #0000BB">$formato </span><span style="color: #007700">= </span><span style="color: #DD0000">"UID @ %s: %s\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #0000BB">$formato</span><span style="color: #007700">, </span><span style="color: #0000BB">date</span><span style="color: #007700">(</span><span style="color: #DD0000">'r'</span><span style="color: #007700">), </span><span style="color: #0000BB">obtener_propietario</span><span style="color: #007700">(</span><span style="color: #0000BB">$archivo</span><span style="color: #007700">));<br /><br /></span><span style="color: #0000BB">chown</span><span style="color: #007700">(</span><span style="color: #0000BB">$archivo</span><span style="color: #007700">, </span><span style="color: #DD0000">'ross'</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #0000BB">$formato</span><span style="color: #007700">, </span><span style="color: #0000BB">date</span><span style="color: #007700">(</span><span style="color: #DD0000">'r'</span><span style="color: #007700">), </span><span style="color: #0000BB">obtener_propietario</span><span style="color: #007700">(</span><span style="color: #0000BB">$archivo</span><span style="color: #007700">));<br /><br /></span><span style="color: #0000BB">clearstatcache</span><span style="color: #007700">();<br /></span><span style="color: #0000BB">printf</span><span style="color: #007700">(</span><span style="color: #0000BB">$formato</span><span style="color: #007700">, </span><span style="color: #0000BB">date</span><span style="color: #007700">(</span><span style="color: #DD0000">'r'</span><span style="color: #007700">), </span><span style="color: #0000BB">obtener_propietario</span><span style="color: #007700">(</span><span style="color: #0000BB">$archivo</span><span style="color: #007700">));<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

    <div class="example-contents"><p>El resultado del ejemplo
sería algo similar a:</p></div>
    <div class="example-contents screen">
<div class="examplescode"><pre class="examplescode">UID @ Sun, 12 Oct 2008 20:48:28 +0100: root
UID @ Sun, 12 Oct 2008 20:48:28 +0100: root
UID @ Sun, 12 Oct 2008 20:48:28 +0100: ross</pre>
</div>
    </div>
   </div>
  </p>
 </div>

 
</div></div></div></body></html>