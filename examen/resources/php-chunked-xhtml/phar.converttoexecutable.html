<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Convertir un archivo phar en otro formato de archivo phar ejecutable</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="phar.converttodata.html">« Phar::convertToData</a></li>
      <li style="float: right;"><a href="phar.copy.html">Phar::copy »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="class.phar.html">Phar</a></li>
    <li>Convertir un archivo phar en otro formato de archivo phar ejecutable</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="phar.converttoexecutable" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">Phar::convertToExecutable</h1>
  <p class="verinfo">(PHP 5 &gt;= 5.3.0, PHP 7, PHP 8, PECL phar &gt;= 2.0.0)</p><p class="refpurpose"><span class="refname">Phar::convertToExecutable</span> &mdash; <span class="dc-title">Convertir un archivo phar en otro formato de archivo phar ejecutable</span></p>

 </div>


 <div class="refsect1 description" id="refsect1-phar.converttoexecutable-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="modifier">public</span> <span class="methodname"><strong>Phar::convertToExecutable</strong></span>(<span class="methodparam"><span class="type"><a href="language.types.integer.html" class="type int">int</a></span> <code class="parameter">$format</code><span class="initializer"> = 9021976</span></span>, <span class="methodparam"><span class="type"><a href="language.types.integer.html" class="type int">int</a></span> <code class="parameter">$compression</code><span class="initializer"> = 9021976</span></span>, <span class="methodparam"><span class="type"><a href="language.types.string.html" class="type string">string</a></span> <code class="parameter">$extension</code><span class="initializer"> = ?</span></span>): <span class="type"><a href="class.phar.html" class="type Phar">Phar</a></span></div>

  <blockquote class="note"><p><strong class="note">Nota</strong>: <p class="para">Este
método requiere que la opción de <var class="filename">php.ini</var> <code class="literal">phar.readonly</code> esté establecida
a <code class="literal">0</code> para que trabaje con objetos <span class="classname"><a href="class.phar.html" class="classname">Phar</a></span>.
De otra manera, se lanzará una excepción de tipo <span class="classname"><a href="class.pharexception.html" class="classname">PharException</a></span>.</p></p></blockquote>
  <p class="para">
   Este método se utiliza para convertir un archivo phar en otro formato de fichero. Por ejemplo,
   se puede utilizar para crear un archivo phar ejecutable basado en tar desde un archivo phar ejecutable
   basado en zip, o desde un archivo phar ejecutable en el formato de fichero phar.
   Además, se puede utilizar para aplicar la compresión al archivo completo a un archivo basado en phar
   o tar.
  </p>
  <p class="para">
   Si no se especifica ningún cambio, este método lanza una excepción de tipo <span class="classname"><a href="class.badmethodcallexception.html" class="classname">BadMethodCallException</a></span>
  </p>
  <p class="para">
   En caso de éxito, el metodo crea un nuevo archivo en disco y devuelve un objeto de la clase
   <span class="classname"><a href="class.phardata.html" class="classname">PharData</a></span>. El archivo antiguo no se elimina del disco, y debería hacerse manualmente después
   de que el proceso haya finalizado.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-phar.converttoexecutable-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   <dl>
    
     <dt><code class="parameter">format</code></dt>
     <dd>
      <p class="para">
       Este parámetro debería ser <strong><code><a href="phar.constants.html#phar.constants.phar">Phar::PHAR</a></code></strong>, <strong><code><a href="phar.constants.html#phar.constants.tar">Phar::TAR</a></code></strong>,
       o <strong><code><a href="phar.constants.html#phar.constants.zip">Phar::ZIP</a></code></strong>. Si se establece a <strong><code><a href="reserved.constants.html#constant.null">null</a></code></strong>, se conservará el
       formato de fichero existente.
      </p>
     </dd>
    
    
     <dt><code class="parameter">compression</code></dt>
     <dd>
      <p class="para">
       Este parámetro debería ser <strong><code><a href="phar.constants.html#phar.constants.none">Phar::NONE</a></code></strong> para no comprimir el archivo
       completo, <strong><code><a href="phar.constants.html#phar.constants.gz">Phar::GZ</a></code></strong> para la compresión basada en zlib, y
       <strong><code><a href="phar.constants.html#phar.constants.bz2">Phar::BZ2</a></code></strong> para la compresión basada en bzip.
      </p>
     </dd>
    
    
     <dt><code class="parameter">extension</code></dt>
     <dd>
      <p class="para">
       Este parámetro se utiliza para sobrescribir la extensión de fichero predeterminada de un
       archivo convertido. Observe que todos los archivos phar basados en zip o en tar deben contener
       <code class="literal">.phar</code> en su extensión de fichero para poder ser procesados como un
       archivo phar.
      </p>
      <p class="para">
       Si se convierte a un archivo basado en phar, las extensiones predeterminadas son
       <code class="literal">.phar</code>, <code class="literal">.phar.gz</code>, o <code class="literal">.phar.bz2</code>
       dependiendo de la compresión especificada. Para archivos phar basados en tar, las
       extensiones predeterminadas son <code class="literal">.phar.tar</code>, <code class="literal">.phar.tar.gz</code>,
       y <code class="literal">.phar.tar.bz2</code>. Para archivos phar basados en zip, la
       estensión predeterminada es <code class="literal">.phar.zip</code>.
      </p>
     </dd>
    
   </dl>
  </p>

 </div>

 <div class="refsect1 returnvalues" id="refsect1-phar.converttoexecutable-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   El método devuelve un objeto <span class="classname"><a href="class.phar.html" class="classname">Phar</a></span> en caso de éxito, y lanza una
   excepción en caso de error.
  </p>
 </div>


 <div class="refsect1 errors" id="refsect1-phar.converttoexecutable-errors">
  <h3 class="title">Errores/Excepciones</h3>
  <p class="para">
   Este método lanza una excepción de tipo <span class="classname"><a href="class.badmethodcallexception.html" class="classname">BadMethodCallException</a></span> cuando no se
   puede comprimir, se ha especificado un método de compresión desconocido, el archivo
   solicitado está almacenado en buffer con <span class="function"><a href="phar.startbuffering.html" class="function">Phar::startBuffering()</a></span> y
   no se ha cerrado con <span class="function"><a href="phar.stopbuffering.html" class="function">Phar::stopBuffering()</a></span>, una
   excepción de tipo <span class="classname"><a href="class.unexpectedvalueexception.html" class="classname">UnexpectedValueException</a></span> si el soporte para escritura está deshabilitado,
   y una excepción de tipo <span class="classname"><a href="class.pharexception.html" class="classname">PharException</a></span> si se encontró algún problema
   durante el proceso de la creación de phar.
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-phar.converttoexecutable-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   <div class="example" id="example-726">
    <p><strong>Ejemplo #1 Un ejemplo de <span class="function"><strong>Phar::convertToExecutable()</strong></span></strong></p>
    <div class="example-contents"><p>
     Utilizar Phar::convertToExecutable():
    </p></div>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">try {<br />    </span><span style="color: #0000BB">$tarphar </span><span style="color: #007700">= new </span><span style="color: #0000BB">Phar</span><span style="color: #007700">(</span><span style="color: #DD0000">'miphar.phar.tar'</span><span style="color: #007700">);<br />    </span><span style="color: #FF8000">// convertirlo al formato de fichero phar<br />    // observe que miphar.phar.tar *no* está desvinculado<br />    </span><span style="color: #0000BB">$phar </span><span style="color: #007700">= </span><span style="color: #0000BB">$tarphar</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">convertToExecutable</span><span style="color: #007700">(</span><span style="color: #0000BB">Phar</span><span style="color: #007700">::</span><span style="color: #0000BB">PHAR</span><span style="color: #007700">); </span><span style="color: #FF8000">// crea miphar.phar<br />    </span><span style="color: #0000BB">$phar</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">setStub</span><span style="color: #007700">(</span><span style="color: #0000BB">$phar</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">createDefaultStub</span><span style="color: #007700">(</span><span style="color: #DD0000">'cli.php'</span><span style="color: #007700">, </span><span style="color: #DD0000">'web/index.php'</span><span style="color: #007700">));<br />    </span><span style="color: #FF8000">// crea miphar.phar.tgz<br />    </span><span style="color: #0000BB">$comprimido </span><span style="color: #007700">= </span><span style="color: #0000BB">$phar</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">convertToExecutable</span><span style="color: #007700">(</span><span style="color: #0000BB">Phar</span><span style="color: #007700">::</span><span style="color: #0000BB">TAR</span><span style="color: #007700">, </span><span style="color: #0000BB">Phar</span><span style="color: #007700">::</span><span style="color: #0000BB">GZ</span><span style="color: #007700">, </span><span style="color: #DD0000">'.phar.tgz'</span><span style="color: #007700">);<br />} catch (</span><span style="color: #0000BB">Exception $e</span><span style="color: #007700">) {<br />    </span><span style="color: #FF8000">// manejar el error aquí<br /></span><span style="color: #007700">}<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-phar.converttoexecutable-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   <ul class="simplelist">
    <li><span class="function"><a href="phar.converttodata.html" class="function" rel="rdfs-seeAlso">Phar::convertToData()</a> - Convertir un archivo phar en un fichero tar o zip no ejecutable</span></li>
    <li><span class="function"><a href="phardata.converttoexecutable.html" class="function" rel="rdfs-seeAlso">PharData::convertToExecutable()</a> - Convertir un archivo tar/zip no ejecutable en un archivo phar ejecutable</span></li>
    <li><span class="function"><a href="phardata.converttodata.html" class="function" rel="rdfs-seeAlso">PharData::convertToData()</a> - Convertir un archivo phar en un fichero tar o zip no ejecutable</span></li>
   </ul>
  </p>
 </div>


</div></div></div></body></html>