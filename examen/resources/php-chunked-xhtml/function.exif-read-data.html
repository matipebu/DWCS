<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Lee las cabeceras EXIF desde un JPEG o un TIFF</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.exif-imagetype.html">« exif_imagetype</a></li>
      <li style="float: right;"><a href="function.exif-tagname.html">exif_tagname »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.exif.html">Funciones de Exif</a></li>
    <li>Lee las cabeceras EXIF desde un JPEG o un TIFF</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.exif-read-data" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">exif_read_data</h1>
  <p class="verinfo">(PHP 4 &gt;= 4.2.0, PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">exif_read_data</span> &mdash; <span class="dc-title">Lee las cabeceras <abbr title="Exchangeable Image File ">EXIF</abbr> desde un <abbr title="Joint Photographic Experts Group">JPEG</abbr> o un <abbr title="Tagged Image File Format">TIFF</abbr></span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.exif-read-data-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>exif_read_data</strong></span>(<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type"><a href="language.types.string.html" class="type string">string</a></span> <code class="parameter">$filename</code></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type"><a href="language.types.string.html" class="type string">string</a></span> <code class="parameter">$sections</code><span class="initializer"> = <strong><code><a href="reserved.constants.html#constant.null">null</a></code></strong></span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type"><a href="language.types.boolean.html" class="type bool">bool</a></span> <code class="parameter">$arrays</code><span class="initializer"> = false</span></span>,<br>&nbsp;&nbsp;&nbsp;&nbsp;<span class="methodparam"><span class="type"><a href="language.types.boolean.html" class="type bool">bool</a></span> <code class="parameter">$thumbnail</code><span class="initializer"> = false</span></span><br>): <span class="type"><a href="language.types.array.html" class="type array">array</a></span></div>

  <p class="para rdfs-comment">
   <span class="function"><strong>exif_read_data()</strong></span> lee las
   cabeceras <abbr title="Exchangeable Image File ">EXIF</abbr> desde un archivo de imagen <abbr title="Joint Photographic Experts Group">JPEG</abbr> o
   <abbr title="Tagged Image File Format">TIFF</abbr>. De esta forma se puede leer los meta-datos
   generados por cámaras digitales.
  </p>
  <p class="para">
   Las cabeceras <abbr title="Exchangeable Image File ">EXIF</abbr> tienden a estar presentes en imágenes JPEG/TIFF
   generadas por cámaras digitales, pero desafortunadamente cada fabricante de cámaras digitales
   tiene una idea diferente de cómo etiquetar sus imágenes, por lo que no siempre se puede contar
   con que una cabecera Exif específica esté presente.
  </p>
  <p class="para">
   <code class="literal">Height</code> y <code class="literal">Width</code> son computados de
   la misma forma que lo hace <span class="function"><a href="function.getimagesize.html" class="function">getimagesize()</a></span> por lo que sus valores no deben ser
   parte de ninguna cabecera devuelta. También, <code class="literal">html</code> es una
   cadena de texto de alto/ancho para usar dentro de un <abbr title="Hyper Text Markup Language">HTML</abbr> normal.
  </p>
  <p class="para">
   Cuando una cabecera Exif contiene una nota de Copyright, puede contener ella misma dos
   valores. Como la solución es inconsistente en el estándar Exif 2.10, la
   sección <code class="literal">COMPUTED</code> devolverá las dos entradas
   <code class="literal">Copyright.Photographer</code> y
   <code class="literal">Copyright.Editor</code> mientras que las secciones <code class="literal">IFD0</code>
   contienen la matriz de bytes con el carácter  NULL que divide ambas entradas.
   O sólo la primera entrada si el tipo de información era erróneo (el comportamiento normal
   de Exif). <code class="literal">COMPUTED</code> también contendrá la entrada
   <code class="literal">Copyright</code> que es la cadena del copyright original,
   o una lista separada por comas del copyright de la fotografía y del editor.
  </p>
  <p class="para">
   La etiqueta <code class="literal">UserComment</code> tiene el mismo problema que la etiqueta
   Copyright. Puede almacenar dos valores. El primero es el que usa la codificación, y el segundo
   es el valor mismo. Por lo que si la sección <code class="literal">IFD</code> sólo contiene la codificación
   o una matriz de bytes, la sección <code class="literal">COMPUTED</code> almacenará la dos entradas
   <code class="literal">UserCommentEncoding</code> y
   <code class="literal">UserComment</code>. La entrada <code class="literal">UserComment</code>
   está disponible en ambos casos por lo que se debería usar con preferencia al valor de
   la sección <code class="literal">IFD0</code>.
  </p>
  <p class="para">
   <span class="function"><strong>exif_read_data()</strong></span> también valida las etiquetas de información EXIF según
   la especifiación EXIF (<a href="http://exif.org/Exif2-2.PDF" class="link external">&raquo;&nbsp;http://exif.org/Exif2-2.PDF</a>, página 20).
  </p>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   <p class="para">
    Windows Me/XP pueden borrar las cabeceras Exif cuando se conecta una cámara.
   </p>
  </p></blockquote>
 </div>

 <div class="refsect1 parameters" id="refsect1-function.exif-read-data-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   <dl>
    
     <dt><code class="parameter">filename</code></dt>
     <dd>
      <p class="para">
       El nombre de la imagen que se va a leer. No puede ser una
       <abbr title="Uniform Resource Locator">URL</abbr>.
      </p>
     </dd>
    
    
     <dt><code class="parameter">sections</code></dt>
     <dd>
      <p class="para">
       Es una lista separada por comas de las secciones que necesitan estar presentes en el archivo
       para producir un <span class="type"><a href="language.types.array.html" class="type array">array</a></span> resultante. Si no se puede encontrar ninguna
       sección el valor devuelto es <strong><code><a href="reserved.constants.html#constant.false">false</a></code></strong>.
       <table class="doctable informaltable">
        
         <tbody class="tbody">
          <tr>
           <td>FILE</td>
           <td>FileName, FileSize, FileDateTime, SectionsFound</td>
          </tr>

          <tr>
           <td>COMPUTED</td>
           <td>
            html, Width, Height, IsColor, y más si están disponibles. Height y
            Width son computados de la misma forma que lo hace <span class="function"><a href="function.getimagesize.html" class="function">getimagesize()</a></span>
            por lo que sus valores no deben ser parte de ninguna cabecera devuelta. 
            También, <code class="literal">html</code> es una cadena de texto de alto/ancho para usar dentro de un
            <abbr title="Hyper Text Markup Language">HTML</abbr> normal.
           </td>
          </tr>

          <tr>
           <td>ANY_TAG</td>
           <td>Cualquier información que tenga una Etiqueta, p.ej., <code class="literal">IFD0</code>,
            <code class="literal">EXIF</code>, ...</td>
          </tr>

          <tr>
           <td>IFD0</td>
           <td>
            Toda la información etiquetada de IFD0. En archivos de imagen normales, ésto contiene
            el tamaño de la imagen y así sucesivamente.
           </td>
          </tr>

          <tr>
           <td>THUMBNAIL</td>
           <td>
            Se supone que un archivo contiene una miniatura si tiene un segundo <code class="literal">IFD</code>.
            Toda la información etiquetada acerca de la miniatura embebida es almacenada en
            esta sección.
           </td>
          </tr>

          <tr>
           <td>COMMENT</td>
           <td>Cabeceras de comentarios de imágenes JPEG.</td>
          </tr>

          <tr>
           <td>EXIF</td>
           <td>
            La sección EXIF es una subsección de <code class="literal">IFD0</code>. Contiene
            información más detallada sobre la imagen. La mayoría de estas entradas
            están relacionadas con la cámara digital.
           </td>
          </tr>

         </tbody>
        
       </table>

      </p>
     </dd>
    
    
     <dt><code class="parameter">arrays</code></dt>
     <dd>
      <p class="para">
       Especifica si cada sección se convierte o no en una matriz. 
       <code class="parameter">sections</code> <code class="literal">COMPUTED</code>,
       <code class="literal">THUMBNAIL</code>, y <code class="literal">COMMENT</code> 
       siempre se convierten en matrices ya que pueden contener valores cuyos nombres
       entran en conflicto con otras secciones.
      </p>
     </dd>
    
    
     <dt><code class="parameter">thumbnail</code></dt>
     <dd>
      <p class="para">
       Cuando se establece a <strong><code><a href="reserved.constants.html#constant.true">true</a></code></strong> se lee la miniatura misma. Si no, sólo se lee
       la información etiquetada.
      </p>
     </dd>
    
   </dl>
  </p>
 </div>
    
 <div class="refsect1 returnvalues" id="refsect1-function.exif-read-data-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve un <span class="type"><a href="language.types.array.html" class="type array">array</a></span> asociativo donde los índices de la matriz son
   los nombres de las cabeceras y los valores de la matriz son los valores asociados con
   esas cabeceras. Si no se puede devolver información,
   <span class="function"><strong>exif_read_data()</strong></span> devolverá <strong><code><a href="reserved.constants.html#constant.false">false</a></code></strong>.
  </p>
 </div>

 <div class="refsect1 changelog" id="refsect1-function.exif-read-data-changelog">
  <h3 class="title">Historial de cambios</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Versión</th>
       <th>Descripción</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>4.3.0</td>
       <td>
        Se puede leer toda la información <abbr title="Image File Directory">IFD</abbr> embebida incluidas matrices
        (devueltas como tales). También, el tamaño de una miniatura embebida es devuelto
        en una submatriz <code class="literal">THUMBNAIL</code>, y puede
        devolver miniaturas en formato <abbr title="Tagged Image File Format">TIFF</abbr>. Además, ya no hay
        una longitud máxima para los valores devueltos (no mientras el límite de memoria 
        haya sido alcanzado)
       </td>
      </tr>

      <tr>
       <td>4.3.0</td>
       <td>
        Si PHP tiene soporte para <a href="ref.mbstring.html" class="link">mbstring</a>,
        el comentario de usuario puede cambiar automáticamente de codificación. También, si el
        comentario de usuario utiliza la codificación <code class="literal">Unicode</code> o
        <code class="literal">JIS</code>, esta codificación será cambiada automáticamente según la configuración
        inicial de exif en
        <var class="filename">php.ini</var>
       </td>
      </tr>

      <tr>
       <td>4.3.0</td>
       <td>
        Si la imagen contiene cualquier información <code class="literal">IFD0</code>, entonces
        <code class="literal">COMPUTED</code> contiene la entrada
        <code class="literal">ByteOrderMotorola</code> la cuál es 0 para el orden de byte
        <code class="literal">little-endian</code> (intel) y 1 para el orden de byte
        <code class="literal">big-endian</code> (motorola). También,
        <code class="literal">COMPUTED</code> y <code class="literal">UserComment</code> ya no
        contienen la primera entrada de copyright si el tipo de información era
        erróneo.
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>

 <div class="refsect1 examples" id="refsect1-function.exif-read-data-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   <div class="example" id="example-2604">
    <p><strong>Ejemplo #1 Ejemplo de <span class="function"><strong>exif_read_data()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">echo </span><span style="color: #DD0000">"prueba1.jpg:&lt;br /&gt;\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">$exif </span><span style="color: #007700">= </span><span style="color: #0000BB">exif_read_data</span><span style="color: #007700">(</span><span style="color: #DD0000">'pruebas/prueba1.jpg'</span><span style="color: #007700">, </span><span style="color: #DD0000">'IFD0'</span><span style="color: #007700">);<br />echo </span><span style="color: #0000BB">$exif</span><span style="color: #007700">===</span><span style="color: #0000BB">false </span><span style="color: #007700">? </span><span style="color: #DD0000">"No se encontró información de cabecera.&lt;br /&gt;\n" </span><span style="color: #007700">: </span><span style="color: #DD0000">"La imagen contiene cabeceras&lt;br /&gt;\n"</span><span style="color: #007700">;<br /><br /></span><span style="color: #0000BB">$exif </span><span style="color: #007700">= </span><span style="color: #0000BB">exif_read_data</span><span style="color: #007700">(</span><span style="color: #DD0000">'pruebas/prueba2.jpg'</span><span style="color: #007700">, </span><span style="color: #0000BB">0</span><span style="color: #007700">, </span><span style="color: #0000BB">true</span><span style="color: #007700">);<br />echo </span><span style="color: #DD0000">"prueba2.jpg:&lt;br /&gt;\n"</span><span style="color: #007700">;<br />foreach (</span><span style="color: #0000BB">$exif </span><span style="color: #007700">as </span><span style="color: #0000BB">$clave </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">$sección</span><span style="color: #007700">) {<br />    foreach (</span><span style="color: #0000BB">$sección </span><span style="color: #007700">as </span><span style="color: #0000BB">$nombre </span><span style="color: #007700">=&gt; </span><span style="color: #0000BB">$valor</span><span style="color: #007700">) {<br />        echo </span><span style="color: #DD0000">"</span><span style="color: #0000BB">$clave</span><span style="color: #DD0000">.</span><span style="color: #0000BB">$nombre</span><span style="color: #DD0000">: </span><span style="color: #0000BB">$valor</span><span style="color: #DD0000">&lt;br /&gt;\n"</span><span style="color: #007700">;<br />    }<br />}<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

    <div class="example-contents"><p>
     La primera llamada falla ya que la imagen no tiene información de cabecera.
    </p></div>
    <div class="example-contents"><p>El resultado del ejemplo
sería algo similar a:</p></div>
    <div class="example-contents screen">
<div class="examplescode"><pre class="examplescode">test1.jpg:
No header data found.
test2.jpg:
FILE.FileName: test2.jpg
FILE.FileDateTime: 1017666176
FILE.FileSize: 1240
FILE.FileType: 2
FILE.SectionsFound: ANY_TAG, IFD0, THUMBNAIL, COMMENT
COMPUTED.html: width=&quot;1&quot; height=&quot;1&quot;
COMPUTED.Height: 1
COMPUTED.Width: 1
COMPUTED.IsColor: 1
COMPUTED.ByteOrderMotorola: 1
COMPUTED.UserComment: Exif test image.
COMPUTED.UserCommentEncoding: ASCII
COMPUTED.Copyright: Photo (c) M.Boerger, Edited by M.Boerger.
COMPUTED.Copyright.Photographer: Photo (c) M.Boerger
COMPUTED.Copyright.Editor: Edited by M.Boerger.
IFD0.Copyright: Photo (c) M.Boerger
IFD0.UserComment: ASCII
THUMBNAIL.JPEGInterchangeFormat: 134
THUMBNAIL.JPEGInterchangeFormatLength: 523
COMMENT.0: Comment #1.
COMMENT.1: Comment #2.
COMMENT.2: Comment #3end
THUMBNAIL.JPEGInterchangeFormat: 134
THUMBNAIL.Thumbnail.Height: 1
THUMBNAIL.Thumbnail.Height: 1</pre>
</div>
    </div>
   </div>
  </p>
 </div>

 <div class="refsect1 seealso" id="refsect1-function.exif-read-data-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   <ul class="simplelist">
    <li><span class="function"><a href="function.exif-thumbnail.html" class="function" rel="rdfs-seeAlso">exif_thumbnail()</a> - Recuperar la miniatura embebida de una imagen TIFF o JPEG</span></li>
    <li><span class="function"><a href="function.getimagesize.html" class="function" rel="rdfs-seeAlso">getimagesize()</a> - Obtener el tama&ntilde;o de una imagen</span></li>
   </ul>
  </p>
 </div>

</div></div></div></body></html>