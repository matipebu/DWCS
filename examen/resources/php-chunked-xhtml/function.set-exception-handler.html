<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Establece una funci&oacute;n de gesti&oacute;n de excepciones definida por el usuario</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.set-error-handler.html">« set_error_handler</a></li>
      <li style="float: right;"><a href="function.trigger-error.html">trigger_error »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.errorfunc.html">Funciones de Manejo de Errores</a></li>
    <li>Establece una funci&oacute;n de gesti&oacute;n de excepciones definida por el usuario</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.set-exception-handler" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">set_exception_handler</h1>
  <p class="verinfo">(PHP 5, PHP 7, PHP 8)</p><p class="refpurpose"><span class="refname">set_exception_handler</span> &mdash; <span class="dc-title">
   Establece una función de gestión de excepciones definida por el usuario
  </span></p>

 </div>

 <div class="refsect1 description" id="refsect1-function.set-exception-handler-description">
  <h3 class="title">Descripción</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>set_exception_handler</strong></span>(<span class="methodparam"><span class="type"><a href="language.types.callable.html" class="type callable">callable</a></span> <code class="parameter">$exception_handler</code></span>): <span class="type"><a href="language.types.callable.html" class="type callable">callable</a></span></div>

  <p class="para rdfs-comment">
   Establece el manejador de excepciones predeterminado si una excepción no es capturada dentro de un
   bloque try/catch. La ejecución se detendrá después de la
   llamada a <code class="parameter">exception_handler</code>.
  </p>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.set-exception-handler-parameters">
  <h3 class="title">Parámetros</h3>
  <p class="para">
   <dl>
    
     <dt><code class="parameter">exception_handler</code></dt>
     <dd>
      <p class="para">
       Nombre de la función a llamar cuando ocurra una excepción no capturada.
       Es necesario que esta función de gestión
       acepte un parámetro, que será el objeto de excepción que
       fue lanzado. Esta es la firma del manejador:
      </p>
      <p class="para">
       <div class="methodsynopsis dc-description">
        <span class="methodname"><span class="replaceable">handler</span></span>(<span class="methodparam"><span class="type"><a href="class.exception.html" class="type Exception">Exception</a></span> <code class="parameter">$ex</code></span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

      </p>
      <p class="para">
       Desde PHP 7, la mayoría de los errores se notifican lanzando excepciones
       <span class="classname"><a href="class.error.html" class="classname">Error</a></span>, las cuales serán también capturadas por el manejador. <span class="classname"><a href="class.error.html" class="classname">Error</a></span>
       y <span class="classname"><a href="class.exception.html" class="classname">Exception</a></span> implementan la interfaz <span class="classname"><a href="class.throwable.html" class="classname">Throwable</a></span>.
       Esta es la signatura del manejador desde PHP 7:
      </p>
      <p class="para">
       <div class="methodsynopsis dc-description"><span class="methodname"><span class="replaceable">handler</span></span>(<span class="methodparam"><span class="type"><a href="class.throwable.html" class="type Throwable">Throwable</a></span> <code class="parameter">$ex</code></span>): <span class="type"><a href="language.types.void.html" class="type void">void</a></span></div>

      </p>
      <p class="para">
       Se podría pasar <strong><code><a href="reserved.constants.html#constant.null">null</a></code></strong> en su lugar para reiniciar este manejador a su estado predeterminado.
      </p>
      <div class="caution"><strong class="caution">Precaución</strong>
       <p class="para">
        Observe que al proporcionar una <span class="classname"><a href="class.exception.html" class="classname">Exception</a></span> explícita como
        tipo implicado al parámetro <code class="parameter">ex</code> en una retrollamada causará
        problemas con la jerarquía de excepciones cambiada en PHP 7.
       </p>
      </div>
     </dd>
    
   </dl>
  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.set-exception-handler-returnvalues">
  <h3 class="title">Valores devueltos</h3>
  <p class="para">
   Devuelve el nombre del manejador de excepciones definido anteriormente, o <strong><code><a href="reserved.constants.html#constant.null">null</a></code></strong> en caso de error. Si
   no se definió un manejador anterior también devolverá <strong><code><a href="reserved.constants.html#constant.null">null</a></code></strong>.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.set-exception-handler-changelog">
  <h3 class="title">Historial de cambios</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Versión</th>
       <th>Descripción</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>7.0.0</td>
       <td>
        Cambiado el tipo de parámetro pasado a <code class="parameter">exception_handler</code>
        de <span class="classname"><a href="class.exception.html" class="classname">Exception</a></span> a <span class="classname"><a href="class.throwable.html" class="classname">Throwable</a></span>
       </td>
      </tr>

      <tr>
       <td>5.5.0</td>
       <td>
        Anteriormente, si se pasaba <strong><code><a href="reserved.constants.html#constant.null">null</a></code></strong>, esta función devolvía <strong><code><a href="reserved.constants.html#constant.true">true</a></code></strong>.
        Devuelve el manejador anterior desde PHP 5.5.0.
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.set-exception-handler-examples">
  <h3 class="title">Ejemplos</h3>
  <p class="para">
   <div class="example" id="example-525">
    <p><strong>Ejemplo #1 Ejemplo de <span class="function"><strong>set_exception_handler()</strong></span></strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">function </span><span style="color: #0000BB">manejador_excepciones</span><span style="color: #007700">(</span><span style="color: #0000BB">$excepción</span><span style="color: #007700">) {<br />  echo </span><span style="color: #DD0000">"Excepción no capturada: " </span><span style="color: #007700">, </span><span style="color: #0000BB">$excepción</span><span style="color: #007700">-&gt;</span><span style="color: #0000BB">getMessage</span><span style="color: #007700">(), </span><span style="color: #DD0000">"\n"</span><span style="color: #007700">;<br />}<br /><br /></span><span style="color: #0000BB">set_exception_handler</span><span style="color: #007700">(</span><span style="color: #DD0000">'manejador_excepciones'</span><span style="color: #007700">);<br /><br />throw new </span><span style="color: #0000BB">Exception</span><span style="color: #007700">(</span><span style="color: #DD0000">'Excepción No Capturada'</span><span style="color: #007700">);<br />echo </span><span style="color: #DD0000">"No Ejecutado\n"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.set-exception-handler-seealso">
  <h3 class="title">Ver también</h3>
  <p class="para">
   <ul class="simplelist">
    <li><span class="function"><a href="function.restore-exception-handler.html" class="function" rel="rdfs-seeAlso">restore_exception_handler()</a> - Restaura la funci&oacute;n de gesti&oacute;n de excepciones previamente definida</span></li>
    <li><span class="function"><a href="function.restore-error-handler.html" class="function" rel="rdfs-seeAlso">restore_error_handler()</a> - Recupera la funci&oacute;n de gesti&oacute;n de errores previa</span></li>
    <li><span class="function"><a href="function.error-reporting.html" class="function" rel="rdfs-seeAlso">error_reporting()</a> - Establece cu&aacute;les errores de PHP son notificados</span></li>
    <li><a href="language.exceptions.html" class="link">Excepciones de PHP 5</a></li>
   </ul>
  </p>
 </div>


</div></div></div></body></html>